---
import { Icon } from '@astrojs/starlight/components'

interface Props {
  iconName?: string
  icon?: any
  href?: string
}

const { iconName = 'approve-check', icon: IconComponent, href } = Astro.props

// Check if href is external (starts with http:// or https://)
const isExternal = href && (href.startsWith('http://') || href.startsWith('https://'))
---

<div class="check-item-wrapper">
  {
    IconComponent ? (
      <IconComponent class="check-item-icon" />
    ) : (
      <Icon name={iconName} color="var(--sl-color-text-accent)" class="check-item-icon" />
    )
  }
  {
    href ? (
      <a
        href={href}
        {...(isExternal && { target: '_blank', rel: 'noopener noreferrer' })}
        class="check-item-link"
      >
        <slot />
      </a>
    ) : (
      <span class="check-item-text">
        <slot />
      </span>
    )
  }
</div>

<style>
  .check-item-wrapper {
    display: flex;
    align-items: center;
  }

  .check-item-icon {
    width: 1rem;
    height: 1rem;
    color: var(--sl-color-text-accent);
    flex-shrink: 0;
  }

  .check-item-text {
    margin-left: 8px;
  }

  .check-item-link {
    margin-left: 8px;
    text-decoration: none;
    font-weight: inherit;
    border-bottom: 1px solid transparent;
    color: inherit;
    transition: all 0.2s ease;
  }

  .check-item-link:hover {
    text-decoration: none;
    border-bottom: 2px solid currentColor;
  }
</style>
