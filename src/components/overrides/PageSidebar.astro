---
import Default from '@astrojs/starlight/components/PageSidebar.astro'
import SeeAlso from '@/components/ui/SeeAlso.astro'

// Access route and props to reuse in child components
const { entry: routeEntry } = Astro.locals.starlightRoute
const { dir, entry, locale } = Astro.props

// Get seeAlso data from routeEntry data instead of entry data
const seeAlso = routeEntry?.data?.seeAlso
---

<div>
  {/* Render the default PageSidebar content (TOC and mobile TOC) */}
  <Default {dir} {entry} {locale} />

  {/* See also section */}
  <div class="page-sidebar-actions">
    <SeeAlso seeAlso={seeAlso} />
  </div>
</div>

<style>
  .page-sidebar-actions {
    display: flex;
    flex-direction: column;
    padding: 0.1rem var(--sl-sidebar-pad-x);
    border-top: 1px solid var(--sl-color-gray-5);
  }

  @media (max-width: 72rem) {
    .page-sidebar-actions {
      display: none;
    }
  }
</style>
