---
title: Getting started with SSO
description: "Learn how to integrate Single Sign-On (SSO) into your B2B SaaS application with Scalekit, supporting both SAML and OIDC protocols."
sidebar:
  order: 1
  label: "Quickstart"
head:
  - tag: style
    content: |
      table td:not(:last-child), table th:not(:last-child) {
        white-space: nowrap;
      }
      .sl-markdown-content h2 {
          font-size: var(--sl-text-xl);
       }
      .sl-markdown-content h3 {
          font-size: var(--sl-text-lg);
       }
next:
  label: Test SSO
  link: /sso/guides/test-sso/
prev: false

---

import {
  LinkButton, Aside, Steps, Tabs, TabItem, CardGrid, Card, Icon
 } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx';
import SimpleCode from '@components/ui/SimpleCode.astro';
import CopyPrompt from '@components/ui/CopyPrompt.astro';
import { VideoPlayer } from 'starlight-videos/components'
import { UserProfileSection } from '@components/templates';

Integrate **Single Sign-On (SSO)** with Scalekit to enhance your B2B SaaS application's security. Scalekit provides seamless user experiences by abstracting the complexities of **SAML** and **OIDC** protocols. Using Scalekit's authentication platform, you can implement enterprise-grade SSO with minimal code. We offer [pre-built integrations](/guides/integrations/sso-integrations) with major identity providers including Okta, Microsoft Entra ID, JumpCloud, and OneLogin.

<VideoPlayer link="https://youtu.be/I7SZyFhKg-s" />

The following diagram illustrates the flow in a nutshell:

![Diagram showing the SSO authentication flow: User initiates login → Scalekit handles protocol translation → Identity Provider authenticates → User gains access to your application](@/assets/docs/sso-quickstart/1.png)

This quickstart guide walks you through the SSO implementation process. You will learn how to deliver enterprise authentication features without managing complex protocol details.

<Card title="Generate SSO Code with AI in Minutes" icon="seti:vite" style="background-color: white !important;">
  <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '0.5rem'}}>
    <div style={{flex: '3'}}>
      Input this prompt in your IDE to analyze your existing code base and generate SSO implementation code accordingly.

      <span style={{fontSize: '0.875rem', color: '#6b7280', fontStyle: 'italic'}}>
        Compatible with Cursor, Windsurf, VS Code, and any AI-powered IDE
      </span>
    </div>
    <div style={{flex: '1'}}>
      <CopyPrompt
        promptType="ssoQuickstartPrompt"
        label="Copy Prompt"
        variant="secondary"
        title="Generate SSO integration code"
      />
    </div>
  </div>
</Card>

<Steps>

1. ## Environment Setup

    Before implementing SSO with Scalekit, prepare your development environment with the necessary credentials and SDK. Sign up and get API credentials from the Scalekit dashboard.

    <InstallSDK />

    Now you're ready to start integrating SSO into your app! Next, we'll cover how to use the SDK to authenticate users.
2. ## Authorize users

    To initiate Single Sign-On (SSO) authentication, redirect users to the Scalekit Authorization URL with the appropriate enterprise identity provider parameters.

    Construct your authorization URL with these essential parameters:

    | Parameter | Description |
    |-----------|-------------|
    | `redirect_uri` | Your application endpoint that will receive the authorization code after successful authentication. Example: `https://your-app.com/auth/callback` |
    | `client_id` | Your unique Scalekit application identifier that specifies both your app and environment (staging, production). |
    | SSO Connection identifier | Choose the appropriate identifier based on your implementation (use one). |

    **Configure callback URLs**
      <p>Before testing your SSO integration, ensure your [callback URL is properly configured](/guides/dashboard/redirects/#allowed-callback-urls):</p>

      <ol>
        <li><strong>Set your redirect URI:</strong> Use the same URL in your app's OAuth configuration</li>
        <li><strong>Add to Scalekit Dashboard:</strong> Go to Authentication → Redirects → Allowed Callback URLs</li>
        <li><strong>Match exactly:</strong> The URLs must be identical (including protocol, domain, and path)</li>
      </ol>

      <p><strong>Example:</strong> If your app uses <code>https://myapp.com/auth/callback</code>, add the exact same URL to Scalekit's allowed list.</p>

      <p>Scalekit will redirect users to this URL with an authorization code after successful authentication.</p>


    **SSO connection identifiers**

    When initiating SSO authentication, you must specify which connection to use through one of these identifiers, listed in order of precedence:

    <Tabs>
    <TabItem value="nodejs" label="Node.js SDK">

    - `organizationId` (e.g., org_124234234): Directs users to a specific organization's SSO. If an organization has multiple SSO connections, the system selects the first active one.
    - `connectionId` (e.g., conn_124234234): Specifies a particular SSO connection with highest precedence. If valid, this connection will be used regardless of other parameters.
    - `domainHint` (e.g., acmecorp.com): Uses the SSO connection configured for the specified domain. Applied when neither connectionId nor organizationId are provided.
    - `loginHint` (e.g., john<span></span>@acmecorp.com): Lowest precedence. The system extracts the domain portion of the email address and uses the corresponding SSO connection.

    </TabItem>

    <TabItem value="py" label="Python SDK">

    - `organization_id` (e.g., org_124234234): Directs users to a specific organization's SSO. If an organization has multiple SSO connections, the system selects the first active one.
    - `connection_id` (e.g., conn_124234234): Specifies a particular SSO connection with highest precedence. If valid, this connection will be used regardless of other parameters.
    - `domain_hint` (e.g., acmecorp.com): Uses the SSO connection configured for the specified domain. Applied when neither connection_id nor organization_id are provided.
    - `login_hint` (e.g., john<span></span>@acmecorp.com): Lowest precedence. The system extracts the domain portion of the email address and uses the corresponding SSO connection.

    </TabItem>
    <TabItem value="golang" label="Go SDK">

    - `OrganizationId` (e.g., org_124234234): Directs users to a specific organization's SSO. If an organization has multiple SSO connections, the system selects the first active one.
    - `ConnectionId` (e.g., conn_124234234): Specifies a particular SSO connection with highest precedence. If valid, this connection will be used regardless of other parameters.
    - `DomainHint` (e.g., acmecorp.com): Uses the SSO connection configured for the specified domain. Applied when neither ConnectionId nor OrganizationId are provided.
    - `LoginHint` (e.g., john<span></span>@acmecorp.com): Lowest precedence. The system extracts the domain portion of the email address and uses the corresponding SSO connection.

    </TabItem>
     <TabItem value="java" label="Java SDK">

    - `organizationId` (e.g., org_124234234): Directs users to a specific organization's SSO. If an organization has multiple SSO connections, the system selects the first active one.
    - `connectionId` (e.g., conn_124234234): Specifies a particular SSO connection with highest precedence. If valid, this connection will be used regardless of other parameters.
    - `domainHint` (e.g., acmecorp.com): Uses the SSO connection configured for the specified domain. Applied when neither connectionId nor organizationId are provided.
    - `loginHint` (e.g., john<span></span>@acmecorp.com): Lowest precedence. The system extracts the domain portion of the email address and uses the corresponding SSO connection.

    </TabItem>
    <TabItem value="direct" label="Direct URL (No SDK)">

    - `organization_id` (e.g., org_124234234): Directs users to a specific organization's SSO. If an organization has multiple SSO connections, the system selects the first active one.
    - `connection_id` (e.g., conn_124234234): Specifies a particular SSO connection with highest precedence. If valid, this connection will be used regardless of other parameters.
    - `domain` (e.g., acmecorp.com): Uses the SSO connection configured for the specified domain. Applied when neither connection_id nor organization_id are provided.
    - `login_hint` (e.g., john<span></span>@acmecorp.com): Lowest precedence. The system extracts the domain portion of the email address and uses the corresponding SSO connection.

    </TabItem>
    </Tabs>

    <Aside type="tip">
    For social login, use `provider=google` to bypass all enterprise SSO parameters and direct users straight to Google's login screen. See [Social Logins](/social-logins/quickstart/) for more information.
    </Aside>

    After selecting the appropriate parameters for your implementation needs, construct your complete authorization URL and implement a redirect to this URL when users initiate the login process.

    <Tabs syncKey="tech-stack">
    <TabItem value="nodejs" label="Node.js">

    ```javascript showLineNumbers wrap
    import { Scalekit } from '@scalekit-sdk/node';
    // Initialize the SDK client
    const scalekit = new ScalekitClient(
      '<SCALEKIT_ENVIRONMENT_URL>',
      '<SCALEKIT_CLIENT_ID>',
      '<SCALEKIT_CLIENT_SECRET>',
    );

    const options = {};

    // Option 1: Authorization URL with the organization ID
    options['organizationId'] = 'org_15421144869927830';

    // Option 2: Authorization URL with login hint
    options['connectionId'] = 'conn_15696105471768821';

    // Option 3: Authorization URL with login hint
    options['loginHint'] = 'user@example.com';

    const authorizationURL = scalekit.getAuthorizationUrl(redirectUrl, options);
    ```

    </TabItem>
    <TabItem value="py" label="Python">

    ```python showLineNumbers wrap
    from scalekit import ScalekitClient, AuthorizationUrlOptions, CodeAuthenticationOptions

    # Initialize the SDK client
    scalekit = ScalekitClient(
      '<SCALEKIT_ENVIRONMENT_URL>',
      '<SCALEKIT_CLIENT_ID>',
      '<SCALEKIT_CLIENT_SECRET>'
    )

    options = AuthorizationUrlOptions()


    # Option 1: Authorization URL with the organization ID
    options.organization_id = 'org_15421144869927830'

    # Option 2: Authorization URL with login hint
    options.login_hint = 'user@example.com'

    # Option 3: Authorization URL with the connection ID
    options.connection_id = 'conn_15696105471768821'

    authorization_url = scalekit_client.get_authorization_url(
      redirect_uri=<redirect_uri>,
      options=options
    )

    # Redirect the user to this authorization URL
    ```

    </TabItem>
    <TabItem value="golang" label="Go">

    ```go showLineNumbers
    import (
      "github.com/scalekit-inc/scalekit-sdk-go"
    )

    func main() {
      // Initialize the SDK client
      scalekitClient := scalekit.NewScalekitClient(
        "<SCALEKIT_ENVIRONMENT_URL>",
        "<SCALEKIT_CLIENT_ID>",
        "<SCALEKIT_CLIENT_SECRET>"
      )

      options := scalekitClient.AuthorizationUrlOptions{}


      // Option 1: Authorization URL with the organization ID
      options.OrganizationId = "org_15421144869927830"

      // Option 2: Authorization URL with the connection ID
      options.ConnectionId = "conn_15696105471768821"

      // Option 3: Authorization URL with Login Hint
      // User's email domain detects the correct enterprise SSO connection.
      options.LoginHint = "user@example.com"

      authorizationURL := scalekitClient.GetAuthorizationUrl(
        redirectUrl,
        options,
      )
      // Next step is to redirect the user to this authorization URL
    }

    // Redirect the user to this authorization URL
    ```

    </TabItem>

    <TabItem value="java" label="Java">

    ```java showLineNumbers
    package com.scalekit;

    import com.scalekit.ScalekitClient;
    import com.scalekit.internal.http.AuthorizationUrlOptions;

    public class Main {

      public static void main(String[] args) {
        // Initialize the SDK client
        ScalekitClient scalekitClient = new ScalekitClient(
          "<SCALEKIT_ENVIRONMENT_URL>",
          "<SCALEKIT_CLIENT_ID>",
          "<SCALEKIT_CLIENT_SECRET>"
        );
        AuthorizationUrlOptions options = new AuthorizationUrlOptions();
        // Option 1: Authorization URL with the organization ID
        options.setOrganizationId("org_13388706786312310");
        // Option 2: Authorization URL with the connection ID
        options.setConnectionId("con_13388706786312310");
        // Option 3: Authorization URL with Login Hint
        // User's email domain detects the correct enterprise SSO connection.
        options.setLoginHint("user@example.com");
        try {
          String url = scalekitClient
            .authentication()
            .getAuthorizationUrl(redirectUrl, options)
            .toString();
        } catch (Exception e) {
          System.out.println(e.getMessage());
        }
      }
    }
    // Redirect the user to this authorization URL
    ```

    </TabItem>

    <TabItem value="direct" label="Direct URL (No SDK)">

    ```txt title="Direct Authorization URL Construction"
    https://your-scalekit-environment.scalekit.com/oauth/authorize?
      response_type=code&
      client_id=<SCALEKIT_CLIENT_ID>&
      redirect_uri=<REDIRECT_URI>&
      scope=openid profile email&
      organization_id=org_15421144869927830&
      connection_id=conn_15696105471768821&
      login_hint=user@example.com
    ```

    **Example with actual values:**
    ```txt
    https://tinotat-dev.scalekit.cloud/oauth/authorize?
      response_type=code&
      client_id=skc_88036702639096097&
      redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&
      scope=openid%20profile%20email&
      organization_id=org_15421144869927830&
      connection_id=conn_15696105471768821&
      login_hint=user%40example.com
    ```

    **Required parameters:**
    - `response_type=code` - OAuth2 authorization code flow
    - `client_id` - Your Scalekit client ID
    - `redirect_uri` - URL-encoded callback URL
    - `scope=openid profile email` - Required OAuth2 scopes

    **SSO connection parameters (choose one or more):**
    - `organization_id` - Target organization
    - `connection_id` - Specific SSO connection
    - `domain_hint` - Domain for SSO lookup
    - `login_hint` - User email for domain extraction

    </TabItem>
    </Tabs>

    This redirect will send users to the Scalekit authentication flow, where they'll authenticate with their organization's identity provider before being returned to your application.

    ```sh title="Example Authorization URL"
    https://auth.scalekit.com/authorize?
      client_id=skc_122056050118122349527&
      redirect_uri=https://yourapp.com/auth/callback&
      organization_id=org_12434341
    ```

    After redirecting users to the Scalekit authorization endpoint, handle the callback at your `redirect_uri` to retrieve the user profile and complete the authentication process.

3. ## Fetch user details

    After successful SSO authentication, Scalekit redirects users to your specified redirect_uri with a temporary authorization code parameter. This code must be exchanged for the user's profile information through a secure server-side request.

    The authorization code exchange process should always be performed server-side to maintain security. This server-side request will:

    1. Validate the authorization code
    2. Return the authenticated user's profile details
    3. Establish the user's session in your application

    The following section demonstrates how to implement this exchange process to retrieve comprehensive user information and complete the authentication flow.

    <Tabs syncKey="tech-stack">
    <TabItem value="nodejs" label="Node.js">

    ```javascript showLineNumbers wrap title="Fetch user profile"
    // Handle oauth redirect_url, fetch code and error_description from request params
    const { code, error, error_description, idp_initiated_login, connection_id, relay_state } =
      req.query;

    if (error) {
      // Handle errors
    }

    // Recommended: Handle idp initiated login

    const result = await scalekit.authenticateWithCode(code, redirectUri);
    const userEmail = result.user.email;

    // Next step: create a session for this user and allow access
    ```

    </TabItem>
    <TabItem value="py" label="Python">

    ```py showLineNumbers title="Fetch user profile"
    # Handle oauth redirect_url, fetch code and error_description from request params
    code = request.args.get('code')
    error = request.args.get('error')
    error_description = request.args.get('error_description')
    idp_initiated_login = request.args.get('idp_initiated_login')
    connection_id = request.args.get('connection_id')
    relay_state = request.args.get('relay_state')

    if error:
        raise Exception(error_description)

    # Recommended: Handle idp initiated login

    result = scalekit.authenticate_with_code(code, '<redirect_uri>')

    # result.user has the authenticated user's details
    user_email = result.user.email

    # Next step: create a session for this user and allow access
    ```

    </TabItem>
    <TabItem value="golang" label="Go">

    ```go showLineNumbers title="Fetch user profile"
    // Handle oauth redirect_url, fetch code and error_description from request params
    code: = r.URL.Query().Get("code")
    error: = r.URL.Query().Get("error")
    errorDescription: = r.URL.Query().Get("error_description")
    idpInitiatedLogin: = r.URL.Query().Get("idp_initiated_login")
    connectionID: = r.URL.Query().Get("connection_id")
    relayState: = r.URL.Query().Get("relay_state")

    if error != "" {
      // Handle errors
    }

    // Recommended: Handle idp initiated login

    result, err: = a.scalekit.AuthenticateWithCode(code,<redirectUrl>)

    if err != nil {
      // Handle errors
    }

    // result.User has the authenticated user's details
    userEmail: = result.User.Email

    // Next step: create a session for this user and allow access
    ```

    </TabItem>

    <TabItem value="java" label="Java">

    ```java showLineNumbers title="Fetch user profile" wrap
    // Handle oauth redirect_url, fetch code and error_description from request params
    String code = request.getParameter("code");
    String error = request.getParameter("error");
    String errorDescription = request.getParameter("error_description");
    String idpInitiatedLogin = request.getParameter("idp_initiated_login");
    String connectionID = request.getParameter("connection_id");
    String relayState = request.getParameter("relay_state");

    if (error != null && !error.isEmpty()) {
        // Handle errors
        return;
    }

    // Recommended: Handle idp initiated login

    try {
        AuthenticationResponse result = scalekit.authentication().authenticateWithCode(code, redirectUrl);
        String userEmail = result.getIdTokenClaims().getEmail();

        // Next step: create a session for this user and allow access
    } catch (Exception e) {
        // Handle errors
    }
    ```

    </TabItem>

    </Tabs>

    The `result` object

    <Tabs syncKey="auth-result">
        <TabItem value="authResult" label="authResult">
        ```js
        {
          user: {
            email: 'john@example.com',
            familyName: 'Doe',
            givenName: 'John',
            username: 'john@example.com',
            id: 'conn_70087756662964366;dcc62570-6a5a-4819-b11b-d33d110c7716'
          },
          idToken: 'eyJhbGciOiJSU..bcLQ',
          accessToken: 'eyJhbGciO..',
          expiresIn: 899
        }
        ```
        </TabItem>
        <TabItem value="idToken" label="ID token (decoded)">
        ```json
        {
          amr: [ 'conn_70087756662964366' ],
          at_hash: 'yMGIBg7BkmIGgD6_dZPEGQ',
          aud: [ 'skc_70087756327420046' ],
          azp: 'skc_70087756327420046',
          c_hash: '4x7qsXnlRw6dRC6twnuENw',
          client_id: 'skc_70087756327420046',
          email: 'john@example.com',
          exp: 1758952038,
          family_name: 'Doe',
          given_name: 'John',
          iat: 1758692838,
          iss: '<SCALEKIT_ENVIRONMENT_URL>',
          oid: 'org_70087756646187150',
          preferred_username: 'john@example.com',
          sid: 'ses_91646612652163629',
          sub: 'conn_70087756662964366;e964d135-35c7-4a13-a3b4-2579a1cdf4e6'
        }
        ```
        </TabItem>
        <TabItem value="accessToken" label="Access token (decoded)">
        ```json
         {
          "iss": "<SCALEKIT_ENVIRONMENT_URL>",
          "sub": "conn_70087756662964366;dcc62570-6a5a-4819-b11b-d33d110c7716",
          "aud": [
            "skc_70087756327420046"
          ],
          "exp": 1758693916,
          "iat": 1758693016,
          "nbf": 1758693016,
          "client_id": "skc_70087756327420046",
          "jti": "tkn_91646913048216109"
        }
        ```
        </TabItem>
      </Tabs>

</Steps>
