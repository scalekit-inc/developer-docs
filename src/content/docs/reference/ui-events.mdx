---
title: UI events from the embedded admin portal
description: "Learn how to listen for and handle UI events from the embedded admin portal, such as SSO connection status and session expiration."
sidebar:
  label: UI events
  order: 2
tableOfContents: true
slug: reference/admin-portal/ui-events
---

import { Steps, Tabs, TabItem, Aside } from '@astrojs/starlight/components';

Listen to the browser events emitted from the embedded admin portal to perform actions on your app. For example, showing a notification when the Single sign-on connection is enabled.

To listen to these events:

1. Add a listener to the parent window.
2. Check the event origin and type to determine the action to take.
3. Handle the event data as needed.

```js {3,5} title="Listening to events from the embedded admin portal"
window.onmessage = event => {
  if (
    event.origin === '<SCALEKIT_ENVIRONMENT_URL>' &&
    event.data &&
    event.data.event_type === '<EVENT_TYPE>'
  ) {
    console.log(event.data); // Handle the event data
  }
};
```

The domain of your parent window must be listed in the Scalekit Dashboard > API Config > Redirect URIs for security purpose. Always <u>validate the `event.origin` </u> to ensure events are coming from a trusted source.

----

## SSO Events

### `ORGANIZATION_SSO_ENABLED`

This event is triggered when the Single sign-on connection is enabled. The event type is `ORGANIZATION_SSO_ENABLED`

```json title="ORGANIZATION_SSO_ENABLED"
{
  "event_type":"ORGANIZATION_SSO_ENABLED",
  "object":"connection",
  "organization_id":"org_4010340X34236531",
  "message": "Single sign-on connection enabled successfully",
  "data":{
      "connection_type":"SSO",
      "id":"conn_4256075523X312",
      "type":"OIDC",
      "provider":"OKTA",
      "enabled":true
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.connection_type` | string | Type of connection (SSO) |
| `data.id` | string | Unique identifier for the connection |
| `data.type` | string | Protocol type (e.g., OIDC, SAML) |
| `data.provider` | string | Identity provider name |
| `data.enabled` | boolean | Indicates if the connection is enabled |

### `ORGANIZATION_SSO_DISABLED`

This event is triggered when the Single sign-on connection is disabled. The event type is `ORGANIZATION_SSO_DISABLED`

```json title="ORGANIZATION_SSO_DISABLED"
{
   "event_type":"ORGANIZATION_SSO_DISABLED",
   "object":"connection",
   "organization_id":"org_4010340X34236531",
   "message": "Single sign-on connection disabled successfully",
   "data":{
      "connection_type":"SSO",
      "id":"conn_4256075523X312",
      "type":"OIDC",
      "provider":"OKTA",
      "enabled": false
   }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.connection_type` | string | Type of connection (SSO) |
| `data.id` | string | Unique identifier for the connection |
| `data.type` | string | Protocol type (e.g., OIDC, SAML) |
| `data.provider` | string | Identity provider name |
| `data.enabled` | boolean | Indicates if the connection is enabled |

## Session Events

### `PORTAL_SESSION_WARNING`

This event is triggered when the admin portal session is about to expire. The event type is `PORTAL_SESSION_WARNING`

```json title="PORTAL_SESSION_WARNING"
{
  "event_type": "PORTAL_SESSION_WARNING",
  "object": "session",
  "message": "The admin portal session will expire in 5 minutes",
  "organization_id": "org_43982563588440584",
  "data": {
    "expiry": "2025-02-28T12:40:35.911Z"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.expiry` | string | ISO 8601 timestamp indicating when the session will expire |

### `PORTAL_SESSION_EXPIRY`

This event is triggered when the admin portal session has expired. The event type is `PORTAL_SESSION_EXPIRY`

```json title="PORTAL_SESSION_EXPIRY"
{
  "event_type": "PORTAL_SESSION_EXPIRY",
  "object": "session",
  "message": "The admin portal session has expired",
  "organization_id": "org_43982563588440584",
  "data": {
    "expiry": "2025-02-28T12:40:35.911Z"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.expiry` | string | ISO 8601 timestamp indicating when the session expired |

## Directory Events

### `ORGANIZATION_DIRECTORY_ENABLED`

This event is triggered when SCIM Provisioning is enabled. The event type is `ORGANIZATION_DIRECTORY_ENABLED`

```json title="ORGANIZATION_DIRECTORY_ENABLED"
{
    "event_type": "ORGANIZATION_DIRECTORY_ENABLED",
    "object": "directory",
    "organization_id": "org_45716217859670289",
    "message": "SCIM Provisioning enabled successfully",
    "data": {
        "directory_type": "SCIM",
        "id": "dir_45716228982964495",
        "provider": "MICROSOFT_AD",
        "enabled": true
    }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.directory_type` | string | Type of directory synchronization (SCIM) |
| `data.id` | string | Unique identifier for the directory connection |
| `data.provider` | string | Identity provider name |
| `data.enabled` | boolean | Indicates if the directory sync is enabled |

### `ORGANIZATION_DIRECTORY_DISABLED`

This event is triggered when SCIM Provisioning is disabled. The event type is `ORGANIZATION_DIRECTORY_DISABLED`

```json title="ORGANIZATION_DIRECTORY_DISABLED"
{
    "event_type": "ORGANIZATION_DIRECTORY_DISABLED",
    "object": "directory",
    "organization_id": "org_45716217859670289",
    "message": "SCIM Provisioning disabled successfully",
    "data": {
        "directory_type": "SCIM",
        "id": "dir_45716228982964495",
        "provider": "MICROSOFT_AD",
        "enabled": false
    }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `event_type` | string | The type of event being triggered |
| `object` | string | The object type associated with the event |
| `organization_id` | string | Unique identifier for the organization |
| `message` | string | Human-readable message describing the event |
| `data.directory_type` | string | Type of directory synchronization (SCIM) |
| `data.id` | string | Unique identifier for the directory connection |
| `data.provider` | string | Identity provider name |
| `data.enabled` | boolean | Indicates if the directory sync is enabled |

<Aside type="caution" title="Considerations">
1. The domain of your parent window must be listed in the Scalekit Dashboard > API Config > Redirect URIs for security purpose
2. Always validate the `event.origin` to ensure events are coming from a trusted source.
</Aside>
