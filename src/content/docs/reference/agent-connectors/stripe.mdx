---
title: Stripe
description: Connect to Stripe
tableOfContents: true
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      table td:first-child, table th:first-child {
        white-space: nowrap;
      }
---

import { Card, CardGrid, Tabs, TabItem, Badge, Steps, Aside, Code } from '@astrojs/starlight/components'
import { Accordion, AccordionItem } from 'accessible-astro-components'

Connect to Stripe

Supports authentication: <Badge text="Basic Auth" />


## `stripe_create_customer_portal_session`

Creates a session of the customer portal. A portal session describes the instantiation of the customer portal for a particular customer. By visiting the session's URL, the customer can manage their subscriptions and billing details. Portal sessions are short-lived and will expire if the customer does not visit the URL.

| Properties | Description | Type |
| --- | --- | --- |
| `configuration` | The ID of an existing configuration to use for this session | string | null |
| `customer` | The ID of an existing customer | string |
| `locale` | The IETF language tag of the locale customer portal is displayed in | string | null |
| `on_behalf_of` | The `on_behalf_of` account to use for this session | string | null |
| `return_url` | The default URL to redirect customers to when they click on the portal's link to return to your website | string | null |

## `stripe_get_customer`

Retrieves the details of an existing customer. You need only supply the unique customer identifier that was returned upon customer creation.

| Properties | Description | Type |
| --- | --- | --- |
| `customer_id` | The ID of the customer to retrieve | string |
| `expand` | Comma-separated list of fields to expand | string | null |

## `stripe_get_invoice`

Retrieves the invoice with the given ID. Supply the unique invoice identifier that was returned from your previous request, and Stripe will return the corresponding invoice information.

| Properties | Description | Type |
| --- | --- | --- |
| `expand` | Comma-separated list of fields to expand | string | null |
| `invoice_id` | The ID of the invoice to retrieve | string |

## `stripe_get_invoice_item`

Retrieves the invoice item with the given ID. Supply the unique invoice item identifier and Stripe will return the corresponding invoice item information.

| Properties | Description | Type |
| --- | --- | --- |
| `expand` | Comma-separated list of fields to expand | string | null |
| `invoice_item_id` | The ID of the invoice item to retrieve | string |

## `stripe_get_product`

Retrieves the details of an existing product. Supply the unique product ID from either a product creation request or the product list, and Stripe will return the corresponding product information.

| Properties | Description | Type |
| --- | --- | --- |
| `expand` | Comma-separated list of fields to expand | string | null |
| `product_id` | The ID of the product to retrieve | string |

## `stripe_get_subscription`

Retrieves the subscription with the given ID. Supply the unique subscription identifier that was returned from your previous request, and Stripe will return the corresponding subscription information.

| Properties | Description | Type |
| --- | --- | --- |
| `expand` | Comma-separated list of fields to expand | string | null |
| `subscription_id` | The ID of the subscription to retrieve | string |

## `stripe_get_subscription_item`

Retrieves the subscription item with the given ID. Supply the unique subscription item identifier and Stripe will return the corresponding subscription item information.

| Properties | Description | Type |
| --- | --- | --- |
| `expand` | Comma-separated list of fields to expand | string | null |
| `subscription_item_id` | The ID of the subscription item to retrieve | string |

## `stripe_list_customers`

Returns a list of your customers. The customers are returned sorted by creation date, with the most recent customers appearing first. Supports filtering by email and pagination for large customer lists.

| Properties | Description | Type |
| --- | --- | --- |
| `created` | Filter by creation date (timestamp or range) | string | null |
| `email` | Filter customers by exact email address | string | null |
| `ending_before` | Customer ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `limit` | Number of customers to return (1-100, default 10) | integer | null |
| `starting_after` | Customer ID to start pagination after | string | null |

## `stripe_list_invoice_items`

Returns a list of your invoice items. Invoice items are returned sorted by creation date, with the most recent invoice items appearing first.

| Properties | Description | Type |
| --- | --- | --- |
| `created` | Filter by creation date (timestamp or range) | string | null |
| `customer` | Filter invoice items by customer ID | string | null |
| `ending_before` | Invoice item ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `invoice` | Filter invoice items by invoice ID | string | null |
| `limit` | Number of invoice items to return (1-100, default 10) | integer | null |
| `pending` | Filter by pending status | boolean | null |
| `starting_after` | Invoice item ID to start pagination after | string | null |

## `stripe_list_invoice_line_items`

When retrieving an invoice, you'll get a lines property containing the total count of line items and the first handful of those items. There is also a URL where you can retrieve the full (paginated) list of line items.

| Properties | Description | Type |
| --- | --- | --- |
| `ending_before` | Line item ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `invoice_id` | The ID of the invoice to list line items for | string |
| `limit` | Number of line items to return (1-100, default 10) | integer | null |
| `starting_after` | Line item ID to start pagination after | string | null |

## `stripe_list_invoices`

Returns a list of your invoices. The invoices are returned sorted by creation date, with the most recent invoices appearing first.

| Properties | Description | Type |
| --- | --- | --- |
| `collection_method` | Filter invoices by collection method | string | null |
| `created` | Filter by creation date (timestamp or range) | string | null |
| `customer` | Filter invoices by customer ID | string | null |
| `ending_before` | Invoice ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `limit` | Number of invoices to return (1-100, default 10) | integer | null |
| `starting_after` | Invoice ID to start pagination after | string | null |
| `status` | Filter invoices by status | string | null |
| `subscription` | Filter invoices by subscription ID | string | null |

## `stripe_list_products`

Returns a list of your products. The products are returned sorted by creation date, with the most recent products appearing first.

| Properties | Description | Type |
| --- | --- | --- |
| `active` | Filter products by active status | boolean | null |
| `created` | Filter by creation date (timestamp or range) | string | null |
| `ending_before` | Product ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `limit` | Number of products to return (1-100, default 10) | integer | null |
| `shippable` | Filter products by shippable status | boolean | null |
| `starting_after` | Product ID to start pagination after | string | null |
| `type` | Filter products by type | string | null |
| `url` | Filter products by URL | string | null |

## `stripe_list_subscription_items`

Returns a list of subscription items for a given subscription. Subscription items represent the component lines of a subscription.

| Properties | Description | Type |
| --- | --- | --- |
| `ending_before` | Subscription item ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `limit` | Number of subscription items to return (1-100, default 10) | integer | null |
| `starting_after` | Subscription item ID to start pagination after | string | null |
| `subscription` | The ID of the subscription to list items for | string |

## `stripe_list_subscriptions`

Returns a list of your subscriptions. The subscriptions are returned sorted by creation date, with the most recent subscriptions appearing first.

| Properties | Description | Type |
| --- | --- | --- |
| `created` | Filter by creation date (timestamp or range) | string | null |
| `customer` | Filter subscriptions by customer ID | string | null |
| `ending_before` | Subscription ID to end pagination before | string | null |
| `expand` | Comma-separated list of fields to expand | string | null |
| `limit` | Number of subscriptions to return (1-100, default 10) | integer | null |
| `price` | Filter subscriptions by price ID | string | null |
| `starting_after` | Subscription ID to start pagination after | string | null |
| `status` | Filter subscriptions by status | string | null |
