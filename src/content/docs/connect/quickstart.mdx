---
title: Agent Connect Quickstart
description: Get started with Agent Connect in minutes. Learn how to create your first connection, authenticate users, and execute tools.
sidebar:
  order: 1
  label: "Quickstart"
tableOfContents:
  maxHeadingLevel: 3
prev:
  label: "Overview"
  link: "/connect/overview"
next:
  label: "Providers"
  link: "/connect/providers"
---

import { Card, CardGrid, Aside, Steps, Tabs, TabItem } from '@astrojs/starlight/components';

This quickstart guide will help you get up and running with Agent Connect in minutes. You'll learn how to create connections, authenticate users, and execute your first tools.

## What you'll build

In this quickstart, you'll build a simple integration that:

1. **Connects to Gmail** using OAuth 2.0
2. **Authenticates a user** to access their Gmail account
3. **Sends an email** using the connected account
4. **Fetches recent emails** from the user's inbox

## Prerequisites

Before you start, make sure you have:

- **Scalekit account** with Agent Connect enabled
- **API credentials** (Client ID and Client Secret)
- **Development environment** (Node.js, Python, or similar)
- **Basic knowledge** of OAuth 2.0 and REST APIs

## Step 1: Install the SDK

First, install the Agent Connect SDK for your preferred language:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```bash
npm install @scalekit/agent-connect
```

```javascript
import { AgentConnect } from '@scalekit/agent-connect';

const agentConnect = new AgentConnect({
  baseUrl: 'https://api.scalekit.com',
  clientId: 'your-client-id',
  clientSecret: 'your-client-secret'
});
```

</TabItem>
<TabItem value="python" label="Python">

```bash
pip install scalekit-agent-connect
```

```python
from scalekit_agent_connect import AgentConnect

agent_connect = AgentConnect(
    base_url='https://api.scalekit.com',
    client_id='your-client-id',
    client_secret='your-client-secret'
)
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
# No installation needed - use cURL directly
export SCALEKIT_CLIENT_ID="your-client-id"
export SCALEKIT_CLIENT_SECRET="your-client-secret"
export SCALEKIT_BASE_URL="https://api.scalekit.com"
```

</TabItem>
</Tabs>

## Step 2: Create a Gmail connection

Create a connection to Gmail. For this quickstart, we'll use Scalekit's shared OAuth credentials:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Create a Gmail connection
const connection = await agentConnect.connections.create({
  provider: 'gmail',
  auth_type: 'oauth2',
  use_scalekit_credentials: true, // Use Scalekit's shared credentials
  scopes: [
    'https://www.googleapis.com/auth/gmail.send',
    'https://www.googleapis.com/auth/gmail.readonly'
  ],
  settings: {
    auto_refresh: true
  }
});

console.log('Connection created:', connection.id);
```

</TabItem>
<TabItem value="python" label="Python">

```python
# Create a Gmail connection
connection = agent_connect.connections.create(
    provider='gmail',
    auth_type='oauth2',
    use_scalekit_credentials=True,  # Use Scalekit's shared credentials
    scopes=[
        'https://www.googleapis.com/auth/gmail.send',
        'https://www.googleapis.com/auth/gmail.readonly'
    ],
    settings={
        'auto_refresh': True
    }
)

print(f'Connection created: {connection.id}')
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X POST "${SCALEKIT_BASE_URL}/v1/connect/connections" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "gmail",
    "auth_type": "oauth2",
    "use_scalekit_credentials": true,
    "scopes": [
      "https://www.googleapis.com/auth/gmail.send",
      "https://www.googleapis.com/auth/gmail.readonly"
    ],
    "settings": {
      "auto_refresh": true
    }
  }'
```

</TabItem>
</Tabs>

## Step 3: Create a connected account

Create a connected account for your user. This represents the user's connection to their Gmail account:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Create a connected account for user
const connectedAccount = await agentConnect.accounts.create({
  connection_id: connection.id,
  identifier: 'user_123', // Your user's identifier
  identifier_type: 'user_id'
});

console.log('Connected account created:', connectedAccount.id);
```

</TabItem>
<TabItem value="python" label="Python">

```python
# Create a connected account for user
connected_account = agent_connect.accounts.create(
    connection_id=connection.id,
    identifier='user_123',  # Your user's identifier
    identifier_type='user_id'
)

print(f'Connected account created: {connected_account.id}')
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X POST "${SCALEKIT_BASE_URL}/v1/connect/accounts" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -H "Content-Type: application/json" \
  -d '{
    "connection_id": "CONNECTION_ID_FROM_STEP_2",
    "identifier": "user_123",
    "identifier_type": "user_id"
  }'
```

</TabItem>
</Tabs>

## Step 4: Authenticate the user

Generate an OAuth URL for the user to complete authentication:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Generate OAuth URL
const authUrl = await agentConnect.accounts.getAuthUrl(connectedAccount.id, {
  redirect_uri: 'http://localhost:3000/callback',
  state: 'user_123' // Optional state parameter
});

console.log('Redirect user to:', authUrl);
// In a real app, redirect the user to this URL
```

</TabItem>
<TabItem value="python" label="Python">

```python
# Generate OAuth URL
auth_url = agent_connect.accounts.get_auth_url(
    connected_account.id,
    redirect_uri='http://localhost:3000/callback',
    state='user_123'  # Optional state parameter
)

print(f'Redirect user to: {auth_url}')
# In a real app, redirect the user to this URL
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X GET "${SCALEKIT_BASE_URL}/v1/connect/accounts/ACCOUNT_ID/auth-url" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -G \
  -d "redirect_uri=http://localhost:3000/callback" \
  -d "state=user_123"
```

</TabItem>
</Tabs>

## Step 5: Handle the OAuth callback

When the user completes authentication, they'll be redirected to your callback URL with an authorization code. Exchange this code for tokens:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Handle OAuth callback (in your web server)
app.get('/callback', async (req, res) => {
  const { code, state, error } = req.query;
  
  if (error) {
    return res.status(400).json({ error: error });
  }
  
  try {
    // Exchange code for tokens
    const result = await agentConnect.accounts.exchangeCode(
      connectedAccount.id,
      code,
      state
    );
    
    if (result.status === 'active') {
      res.json({ message: 'Authentication successful!' });
    }
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});
```

</TabItem>
<TabItem value="python" label="Python">

```python
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/callback')
def oauth_callback():
    code = request.args.get('code')
    state = request.args.get('state')
    error = request.args.get('error')
    
    if error:
        return jsonify({'error': error}), 400
    
    try:
        # Exchange code for tokens
        result = agent_connect.accounts.exchange_code(
            connected_account.id,
            code,
            state
        )
        
        if result.status == 'active':
            return jsonify({'message': 'Authentication successful!'})
    except Exception as e:
        return jsonify({'error': str(e)}), 500
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X POST "${SCALEKIT_BASE_URL}/v1/connect/accounts/ACCOUNT_ID/exchange-code" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -H "Content-Type: application/json" \
  -d '{
    "code": "AUTHORIZATION_CODE_FROM_CALLBACK",
    "state": "user_123"
  }'
```

</TabItem>
</Tabs>

## Step 6: Execute your first tool

Now that the user is authenticated, you can execute tools on their behalf. Let's send an email:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Send an email
const emailResult = await agentConnect.tools.execute({
  connected_account_id: connectedAccount.id,
  tool: 'send_email',
  parameters: {
    to: 'recipient@example.com',
    subject: 'Hello from Agent Connect!',
    body: 'This is my first email sent via Agent Connect.',
    html_body: '<p>This is my first email sent via <strong>Agent Connect</strong>.</p>'
  }
});

console.log('Email sent:', emailResult);
```

</TabItem>
<TabItem value="python" label="Python">

```python
# Send an email
email_result = agent_connect.tools.execute(
    connected_account_id=connected_account.id,
    tool='send_email',
    parameters={
        'to': 'recipient@example.com',
        'subject': 'Hello from Agent Connect!',
        'body': 'This is my first email sent via Agent Connect.',
        'html_body': '<p>This is my first email sent via <strong>Agent Connect</strong>.</p>'
    }
)

print(f'Email sent: {email_result}')
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X POST "${SCALEKIT_BASE_URL}/v1/connect/tools/execute" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -H "Content-Type: application/json" \
  -d '{
    "connected_account_id": "CONNECTED_ACCOUNT_ID",
    "tool": "send_email",
    "parameters": {
      "to": "recipient@example.com",
      "subject": "Hello from Agent Connect!",
      "body": "This is my first email sent via Agent Connect.",
      "html_body": "<p>This is my first email sent via <strong>Agent Connect</strong>.</p>"
    }
  }'
```

</TabItem>
</Tabs>

## Step 7: Fetch emails

Let's also fetch some recent emails from the user's inbox:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
// Fetch recent emails
const emails = await agentConnect.tools.execute({
  connected_account_id: connectedAccount.id,
  tool: 'fetch_emails',
  parameters: {
    query: 'is:unread',
    max_results: 10
  }
});

console.log('Recent emails:', emails.result);
```

</TabItem>
<TabItem value="python" label="Python">

```python
# Fetch recent emails
emails = agent_connect.tools.execute(
    connected_account_id=connected_account.id,
    tool='fetch_emails',
    parameters={
        'query': 'is:unread',
        'max_results': 10
    }
)

print(f'Recent emails: {emails.result}')
```

</TabItem>
<TabItem value="curl" label="cURL">

```bash
curl -X POST "${SCALEKIT_BASE_URL}/v1/connect/tools/execute" \
  -H "Authorization: Bearer ${SCALEKIT_CLIENT_SECRET}" \
  -H "Content-Type: application/json" \
  -d '{
    "connected_account_id": "CONNECTED_ACCOUNT_ID",
    "tool": "fetch_emails",
    "parameters": {
      "query": "is:unread",
      "max_results": 10
    }
  }'
```

</TabItem>
</Tabs>

## Complete example

Here's a complete example that puts it all together:

<Tabs>
<TabItem value="nodejs" label="Node.js">

```javascript
import { AgentConnect } from '@scalekit/agent-connect';
import express from 'express';

const app = express();
const agentConnect = new AgentConnect({
  baseUrl: 'https://api.scalekit.com',
  clientId: 'your-client-id',
  clientSecret: 'your-client-secret'
});

// Step 1: Create connection and connected account
app.get('/connect', async (req, res) => {
  try {
    // Create connection
    const connection = await agentConnect.connections.create({
      provider: 'gmail',
      auth_type: 'oauth2',
      use_scalekit_credentials: true,
      scopes: [
        'https://www.googleapis.com/auth/gmail.send',
        'https://www.googleapis.com/auth/gmail.readonly'
      ]
    });

    // Create connected account
    const connectedAccount = await agentConnect.accounts.create({
      connection_id: connection.id,
      identifier: 'user_123',
      identifier_type: 'user_id'
    });

    // Generate auth URL
    const authUrl = await agentConnect.accounts.getAuthUrl(connectedAccount.id, {
      redirect_uri: 'http://localhost:3000/callback',
      state: connectedAccount.id
    });

    res.redirect(authUrl);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Step 2: Handle OAuth callback
app.get('/callback', async (req, res) => {
  const { code, state, error } = req.query;
  
  if (error) {
    return res.status(400).json({ error: error });
  }
  
  try {
    // Exchange code for tokens
    const result = await agentConnect.accounts.exchangeCode(state, code, state);
    
    if (result.status === 'active') {
      res.json({ 
        message: 'Authentication successful!', 
        account_id: state 
      });
    }
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

// Step 3: Send email
app.post('/send-email', async (req, res) => {
  try {
    const result = await agentConnect.tools.execute({
      connected_account_id: req.body.account_id,
      tool: 'send_email',
      parameters: {
        to: req.body.to,
        subject: req.body.subject,
        body: req.body.body
      }
    });
    
    res.json(result);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Step 4: Fetch emails
app.get('/emails/:account_id', async (req, res) => {
  try {
    const emails = await agentConnect.tools.execute({
      connected_account_id: req.params.account_id,
      tool: 'fetch_emails',
      parameters: {
        query: 'is:unread',
        max_results: 10
      }
    });
    
    res.json(emails.result);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
  console.log('Visit http://localhost:3000/connect to start');
});
```

</TabItem>
<TabItem value="python" label="Python">

```python
from flask import Flask, request, jsonify, redirect
from scalekit_agent_connect import AgentConnect

app = Flask(__name__)
agent_connect = AgentConnect(
    base_url='https://api.scalekit.com',
    client_id='your-client-id',
    client_secret='your-client-secret'
)

@app.route('/connect')
def connect():
    try:
        # Create connection
        connection = agent_connect.connections.create(
            provider='gmail',
            auth_type='oauth2',
            use_scalekit_credentials=True,
            scopes=[
                'https://www.googleapis.com/auth/gmail.send',
                'https://www.googleapis.com/auth/gmail.readonly'
            ]
        )

        # Create connected account
        connected_account = agent_connect.accounts.create(
            connection_id=connection.id,
            identifier='user_123',
            identifier_type='user_id'
        )

        # Generate auth URL
        auth_url = agent_connect.accounts.get_auth_url(
            connected_account.id,
            redirect_uri='http://localhost:3000/callback',
            state=connected_account.id
        )

        return redirect(auth_url)
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/callback')
def callback():
    code = request.args.get('code')
    state = request.args.get('state')
    error = request.args.get('error')
    
    if error:
        return jsonify({'error': error}), 400
    
    try:
        # Exchange code for tokens
        result = agent_connect.accounts.exchange_code(state, code, state)
        
        if result.status == 'active':
            return jsonify({
                'message': 'Authentication successful!',
                'account_id': state
            })
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/send-email', methods=['POST'])
def send_email():
    try:
        data = request.get_json()
        result = agent_connect.tools.execute(
            connected_account_id=data['account_id'],
            tool='send_email',
            parameters={
                'to': data['to'],
                'subject': data['subject'],
                'body': data['body']
            }
        )
        
        return jsonify(result)
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/emails/<account_id>')
def get_emails(account_id):
    try:
        emails = agent_connect.tools.execute(
            connected_account_id=account_id,
            tool='fetch_emails',
            parameters={
                'query': 'is:unread',
                'max_results': 10
            }
        )
        
        return jsonify(emails.result)
    except Exception as e:
        return jsonify({'error': str(e)}), 500

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=3000, debug=True)
    print('Server running on http://localhost:3000')
    print('Visit http://localhost:3000/connect to start')
```

</TabItem>
</Tabs>

## Testing your integration

To test your integration:

<Steps>
1. **Start your server** and navigate to `http://localhost:3000/connect`
2. **Complete OAuth flow** by signing in with a Google account
3. **Test sending email** using the `/send-email` endpoint
4. **Check email fetching** using the `/emails/{account_id}` endpoint
</Steps>

## Next steps

Congratulations! You've successfully created your first Agent Connect integration. Here's what you can do next:

<CardGrid>
  <Card title="Explore More Providers" icon="star">
    Try connecting to Slack, Jira, or other supported providers
  </Card>
  <Card title="Add More Tools" icon="puzzle">
    Explore the full range of tools available for each provider
  </Card>
  <Card title="Implement Error Handling" icon="warning">
    Add robust error handling and retry logic
  </Card>
  <Card title="Use Your Own OAuth" icon="setting">
    Set up your own OAuth applications for production use
  </Card>
</CardGrid>

## Common issues and solutions

### Authentication fails

**Issue**: User gets an error during OAuth flow

**Solution**: 
- Check that your redirect URI is correctly configured
- Ensure you're using the correct scopes for your use case
- Verify your API credentials are valid

### Tool execution fails

**Issue**: Tool execution returns an error

**Solution**: 
- Check that the connected account is in "active" status
- Verify the tool parameters are correct
- Ensure the account has the necessary permissions

### Rate limiting

**Issue**: API calls are being rate limited

**Solution**: 
- Implement exponential backoff for retries
- Consider using batch operations where possible
- Monitor your API usage and optimize calls

<Aside type="tip">
**Need help?** Join our [developer community](https://community.scalekit.com) or check out our [troubleshooting guide](/connect/troubleshooting) for more solutions.
</Aside>

## Resources

- [API Reference](/connect/api-reference): Complete API documentation
- [Provider Guides](/connect/providers): Detailed guides for each provider
- [Tool Definitions](/connect/tools/definitions): Complete tool reference
- [Best Practices](/connect/best-practices): Security and performance tips
- [Examples Repository](https://github.com/scalekit/agent-connect-examples): Sample code and integrations

You're now ready to build powerful integrations with Agent Connect! =€