---
title: Authentication Walkthrough Demo
description: Step-by-step guide to implementing authentication with Scalekit
tableOfContents: false
sidebar:
  order: 10
---

import CodeWalkthrough from '@components/ui/CodeWalkthrough.astro';
import WalkthroughStep from '@components/ui/WalkthroughStep.astro';

This interactive walkthrough shows you how to implement end-to-end authentication with Scalekit. Select your preferred programming language and follow along.

<CodeWalkthrough
  languages={[
    { id: "typescript", label: "Node.js", codeFile: "authentication/full-auth-flow.ts" },
    { id: "python", label: "Python", codeFile: "authentication/full-auth-flow.py" },
    { id: "go", label: "Go", codeFile: "authentication/full-auth-flow.go" },
    { id: "java", label: "Java", codeFile: "authentication/full-auth-flow.java" }
  ]}
  title="Complete Authentication Flow"
>
  <WalkthroughStep stepNumber={1} lines="1-8">
    ## Initialize Scalekit Client

    First, import the Scalekit SDK and create a new client instance with your credentials.

    Store your environment URL, client ID, and client secret securely in environment variables.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={2} lines="10-25">
    ## Generate Authorization URL

    Create an endpoint that generates the OAuth authorization URL. This URL redirects users to their organization's identity provider for authentication.

    The `state` parameter should be a secure random string to prevent CSRF attacks.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={3} lines="27-49">
    ## Handle OAuth Callback

    After successful authentication, the identity provider redirects back to your callback URL with an authorization code.

    Exchange this code for access tokens and user information using `authenticateWithCode()`.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={4} lines="40-47">
    ## Create User Session

    Store the authenticated user's information in a session. This typically includes:
    - User ID
    - Email address
    - Organization ID

    After creating the session, redirect the user to your application dashboard.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={5} lines="51-59">
    ## Protect Routes

    Create middleware to protect routes that require authentication.

    Check if the user has a valid session, and redirect to login if not authenticated.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={6} lines="65-69">
    ## Handle Logout

    Provide a logout endpoint that clears the user session and redirects to the login page.

    This ensures users can securely sign out of your application.
  </WalkthroughStep>
</CodeWalkthrough>

## Next Steps

Now that you understand the authentication flow, you can:

- Add error handling and logging
- Implement session management with a database
- Add support for multiple identity providers
- Customize the redirect URLs for your application

<style>{`
  /* Make this page wider for better code walkthrough experience */
  .main-frame {
    max-width: 1600px !important;
  }

  .sl-markdown-content {
    max-width: none !important;
  }
`}</style>

