---
title: Authentication Walkthrough Demo
description: Step-by-step guide to implementing authentication with Scalekit
tableOfContents: false
sidebar: none
---

import CodeWalkthrough from '@components/ui/CodeWalkthrough.astro';
import WalkthroughStep from '@components/ui/WalkthroughStep.astro';

This interactive walkthrough shows you how to implement end-to-end authentication with Scalekit. Select your preferred programming language and follow along.

<CodeWalkthrough
  languages={[
    { id: "typescript", label: "Node.js", codeDir: "authentication/nodejs" },
    { id: "python", label: "Python", codeDir: "authentication/python" },
    { id: "go", label: "Go", codeDir: "authentication/golang" },
    { id: "java", label: "Java", codeDir: "authentication/java" }
  ]}
  title="Complete Authentication Flow"
>
  <WalkthroughStep stepNumber={1} files={{
    typescript: { file: "config.js", lines: "1-11" },
    python: { file: "config.py", lines: "1-9" },
    go: { file: "config.go", lines: "1-17" },
    java: { file: "ScalekitConfig.java", lines: "1-20" }
  }}>
    ## Initialize Scalekit Client

    First, import the Scalekit SDK and create a new client instance with your credentials.

    Store your environment URL, client ID, and client secret securely in environment variables.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={2} files={{
    typescript: { file: "auth.js", lines: "6-16" },
    python: { file: "auth.py", lines: "6-19" },
    go: { file: "auth.go", lines: "8-22" },
    java: { file: "AuthController.java", lines: "18-31" }
  }}>
    ## Generate Authorization URL

    Create an endpoint that generates the OAuth authorization URL. This URL redirects users to their organization's identity provider for authentication.

    The `state` parameter should be a secure random string to prevent CSRF attacks.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={3} files={{
    typescript: { file: "auth.js", lines: "18-38" },
    python: { file: "auth.py", lines: "21-42" },
    go: { file: "auth.go", lines: "24-44" },
    java: { file: "AuthController.java", lines: "33-57" }
  }}>
    ## Handle OAuth Callback

    After successful authentication, the identity provider redirects back to your callback URL with an authorization code.

    Exchange this code for access tokens and user information using `authenticateWithCode()`.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={4} files={{
    typescript: { file: "auth.js", lines: "28-31" },
    python: { file: "auth.py", lines: "34-37" },
    go: { file: "auth.go", lines: "36-40" },
    java: { file: "AuthController.java", lines: "46-49" }
  }}>
    ## Create User Session

    Store the authenticated user's information in a session. This typically includes:
    - User ID
    - Email address
    - Organization ID

    After creating the session, redirect the user to your application dashboard.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={5} files={{
    typescript: { file: "app.js", lines: "13-16" },
    python: { file: "app.py", lines: "16-21" },
    go: { file: "auth.go", lines: "53-68" },
    java: { file: "AuthController.java", lines: "67-74" }
  }}>
    ## Protect Routes

    Create middleware to protect routes that require authentication.

    Check if the user has a valid session, and redirect to login if not authenticated.
  </WalkthroughStep>

  <WalkthroughStep stepNumber={6} files={{
    typescript: { file: "auth.js", lines: "40-44" },
    python: { file: "auth.py", lines: "44-48" },
    go: { file: "auth.go", lines: "46-51" },
    java: { file: "AuthController.java", lines: "59-63" }
  }}>
    ## Handle Logout

    Provide a logout endpoint that clears the user session and redirects to the login page.

    This ensures users can securely sign out of your application.
  </WalkthroughStep>
</CodeWalkthrough>

## Next Steps

Now that you understand the authentication flow, you can:

- Add error handling and logging
- Implement session management with a database
- Add support for multiple identity providers
- Customize the redirect URLs for your application

<style>{`
  /* Make this page wider for better code walkthrough experience */
  .main-frame {
    max-width: 1600px !important;
  }

  .sl-markdown-content {
    max-width: none !important;
  }
`}</style>
