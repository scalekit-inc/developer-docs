---
title: "Add users to organizations"
description: "Add users to organizations through dashboard management, admin invitations, domain-based joining, and automated provisioning."
sidebar:
  label: "Add users to organizations"
tableOfContents: true
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
seeAlso:
  expanded: true
  items:
    - title: "Allowed domains for auto-joining orgs"
      icon: "book"
      url: "/fsa/guides/allowed-email-domains/"
    - title: "Restrict generic & disposable signups"
      icon: "book"
      url: "/fsa/guides/signup-restrictions/"
    - title: "Implement organization switcher"
      icon: "book"
      url: "/fsa/guides/organization-switching/"
---

import { Aside, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';

Users in most B2B applications belong to organizations that structure collaboration and access.

Applications like Slack organize users into workspaces, while JIRA groups users into project teams. Regardless of your application's specific organizational model, Scalekit provides built-in support for this structure. The first step towards this direction is to start adding users to organizations.

To add users to organizations, use any of these methods:

- Add users manually through the Scalekit dashboard
- Send programmatic invitations through your application using Scalekit API
- Enable users with trusted email domains to discover organizations automatically
- Automate user management through SSO and SCIM integration


## Enable user invitations through your app

Build invitation capabilities into your application so users can invite members to their organization.

Use the Scalekit SDK to send invitations from your application. Scalekit handles email delivery, verification, and automatically adds users to the organization when they accept.

<Tabs syncKey="tech-stack">
  <TabItem value="node" label="Node.js">

```javascript title="Express.js invitation API" wrap collapse={1-2, 16-31} { 10 }
// POST /api/organizations/:orgId/invite
app.post('/api/organizations/:orgId/invite', async (req, res) => {
  const { orgId } = req.params
  const { email, role, firstName, lastName } = req.body

  try {
    // Use case: Organization admin invites new team member through your app
    const { user } = await scalekit.user.createUserAndMembership(orgId, {
      email,
      sendInvitationEmail: true, // Scalekit sends the invitation email
      userProfile: {
        firstName,
        lastName,
        name: `${firstName} ${lastName}`,
      },
      metadata: {
        role: role || 'member', // Default to member if no role specified
        invitedBy: req.session.userId,
        invitedAt: new Date().toISOString(),
      }
    })

    res.json({
      message: 'Invitation sent successfully',
      userId: user.id,
      email: user.email
    })
  } catch (error) {
    res.status(400).json({ error: error.message })
  }
})
```

  </TabItem>
  <TabItem value="python" label="Python">

```python title="Django invitation API" wrap collapse={1-9, 19-32} { 13 }
# POST /api/organizations/{org_id}/invite
@api_view(['POST'])
def invite_user_to_organization(request, org_id):
    email = request.data.get('email')
    role = request.data.get('role', 'member')  # Default to member
    first_name = request.data.get('firstName')
    last_name = request.data.get('lastName')

    try:
        # Use case: Organization admin invites new team member through your app
        user_response = scalekit_client.user.create_user_and_membership(org_id, {
            'email': email,
            'send_invitation_email': True,  # Scalekit sends the invitation email
            'user_profile': {
                'first_name': first_name,
                'last_name': last_name,
                'name': f'{first_name} {last_name}',
            },
            'metadata': {
                'role': role,
                'invited_by': request.session['user_id'],
                'invited_at': datetime.now().isoformat(),
            }
        })

        return JsonResponse({
            'message': 'Invitation sent successfully',
            'user_id': user_response['user']['id'],
            'email': user_response['user']['email']
        })
    except Exception as error:
        return JsonResponse({'error': str(error)}, status=400)
```

  </TabItem>
  <TabItem value="go" label="Go">

```go title="Gin invitation API" wrap collapse={1-21, 37-48} {25}
// POST /api/organizations/:orgId/invite
func inviteUserToOrganization(c *gin.Context) {
    orgID := c.Param("orgId")

    var req struct {
        Email     string `json:"email"`
        Role      string `json:"role"`
        FirstName string `json:"firstName"`
        LastName  string `json:"lastName"`
    }

    if err := c.ShouldBindJSON(&req); err != nil {
        c.JSON(400, gin.H{"error": err.Error()})
        return
    }

    // Default role to member if not specified
    if req.Role == "" {
        req.Role = "member"
    }

    // Use case: Organization admin invites new team member through your app
    userResp, err := scalekitClient.User.CreateUserAndMembership(ctx, orgID, scalekit.CreateUserAndMembershipRequest{
        Email: req.Email,
        SendInvitationEmail: scalekit.Bool(true), // Scalekit sends the invitation email
        UserProfile: &scalekit.UserProfile{
            FirstName: scalekit.String(req.FirstName),
            LastName:  scalekit.String(req.LastName),
            Name:      scalekit.String(req.FirstName + " " + req.LastName),
        },
        Metadata: map[string]string{
            "role":       req.Role,
            "invited_by": getUserID(c), // Get from session
            "invited_at": time.Now().Format(time.RFC3339),
        },
    })

    if err != nil {
        c.JSON(400, gin.H{"error": err.Error()})
        return
    }

    c.JSON(200, gin.H{
        "message": "Invitation sent successfully",
        "user_id": userResp.User.Id,
        "email":   userResp.User.Email,
    })
}
```

  </TabItem>
  <TabItem value="java" label="Java">

```java title="Spring Boot invitation API" wrap collapse={1-7, 33-38} {12}
// POST /api/organizations/{orgId}/invite
@PostMapping("/api/organizations/{orgId}/invite")
public ResponseEntity<Map<String, Object>> inviteUserToOrganization(
    @PathVariable String orgId,
    @RequestBody InviteRequest request,
    HttpSession session
) {
    try {
        // Use case: Organization admin invites new team member through your app
        CreateUser createUser = CreateUser.newBuilder()
            .setEmail(request.email())
            .setSendInvitationEmail(true) // Scalekit sends the invitation email
            .setUserProfile(
                CreateUserProfile.newBuilder()
                    .setFirstName(request.firstName())
                    .setLastName(request.lastName())
                    .setName(request.firstName() + " " + request.lastName())
                    .build()
            )
            .putMetadata("role", request.role() != null ? request.role() : "member")
            .putMetadata("invited_by", (String) session.getAttribute("userId"))
            .putMetadata("invited_at", Instant.now().toString())
            .build();

        CreateUserAndMembershipResponse response = scalekitClient.users()
            .createUserAndMembership(orgId, createUser);

        return ResponseEntity.ok(Map.of(
            "message", "Invitation sent successfully",
            "user_id", response.getUser().getId(),
            "email", response.getUser().getEmail()
        ));
    } catch (Exception error) {
        return ResponseEntity.badRequest().body(
            Map.of("error", error.getMessage())
        );
    }
}
```

  </TabItem>
</Tabs>


## Support automated user provisioning

Users can join organizations in your application through methods beyond direct signup or peer invitations.

Your [integration](/fsa/quickstart) with Scalekit enables two additional user provisioning methods:
- Single sign-on (SSO) allows enterprise users to authenticate using their organization's identity provider. Scalekit can create user accounts and add them to same organization just in time. This is Just In Time (JIT) provisioning.
- **SCIM provisioning** lets enterprises automatically grant access to your application for their users. Typically organization admins connect their user directory provider (eg. Azure AD) to your app through Scalekit.

Both methods add users to organizations automatically without requiring manual invitations or identity verification. The steps below explain how to enable JIT and SCIM provisioning for organizations.

### JIT provisioning <Badge text="Coming soon" variant="note" />

<Steps>
 1. Go to the Scalekit dashboard > Organizations > Select the organization > Security > JIT Provisioning
 2. Toggle the setting to enable JIT provisioning for this organization.
 3. Click **Save**
</Steps>

### SCIM provisioning <Badge text="Coming soon" variant="note" />

<Steps>
1. Go to the Scalekit dashboard > Organizations > Select the organization > Settings > SCIM Provisioning
2. Toggle the setting to enable SCIM provisioning for this organization.
3. Click **Save**
</Steps>

 For implementation details on adding SCIM provisioning to your application, refer to the SCIM provisioning implementation guide.

<Aside type="note" title="Beta">
JIT and SCIM provisioning features are currently in beta. Contact us to enable these features in your Scalekit environment.
</Aside>

## Add users through the Scalekit dashboard

Use the dashboard for manual user addition when support teams help customers onboard or when you need to seed initial organization members.

Navigate to **Dashboard** > **Organizations**, select your target organization, and click the **Users** tab.

1. Click **Invite User** to open the invitation form
2. Enter the user's **email address** (must match organization's allowed domains)
3. Select their **role** (Admin, Member, or custom organizational roles)
4. Add optional **personal information** (first name, last name, display name)
5. Click **Send Invitation**

The user receives an email invitation with a secure link. When they accept:
- Scalekit creates their user account (if they're new to your system)
- Adds them to the organization with the specified default role. This is later useful as you build access control into your app.

<Aside type="note" title="Prerequisite: Initiate login endpoint">
You must first implement and register the [initiate login endpoint](/fsa/guides/dashboard/intitate-login-endpoint/) in your application and Scalekit dashboard.
</Aside>