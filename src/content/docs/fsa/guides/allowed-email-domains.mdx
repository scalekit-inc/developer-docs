---
title: Allowed email domains
description: Define trusted email domains for an organization to allow user to directly join an org
sidebar:
  label: 'Allowed email domains'
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      .sl-markdown-content h3 {
        font-size: var(--sl-text-lg);
      }
prev:
  label: 'JIT Provisioning'
  link: '/fsa/guides/just-in-time-provisioning/'
next:
  label: 'Organization switching'
  link: '/fsa/guides/organization-switching/'
---

import { Steps, Aside, LinkCard, Badge, Tabs, TabItem } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx';

Allowed email domains lets organization admins define trusted domains for their organization. When a user signs in or signs up with a matching email domain, Scalekit suggests the user to join that organization in the **organization switcher** so the user can join the organization with one click. This feature is authentication-method agnostic: regardless of whether a user authenticates via SSO, social login, or passwordless authentication, organization options are suggested based on their email domain.

## Introduction

Allowed email domains can reduce the burden of manual invitation for organization admins, avoid duplicate organization creation, and streamline membership for end users by suggesting the right organization at sign-in/sign-up.

```d2
direction: right


domain_match: "Domain Match?"
suggest_org: "Show option for the user to join workspace"
join_create: "User joined the workspace"

domain_match -> suggest_org: "Yes"
suggest_org -> join_create: ""

```


When a user signs up or signs in, Scalekit can automatically:

1. **Match email domains** - Check if the user's email domain matches configured allowed domains for any organization.
2. **Suggest organization options** - Show the user available organizations they can join through an organization switcher.
3. **Enable user choice** - Allow users to decide which of the suggested organizations they want to join.
4. **Create organization membership** - Automatically add the user to their selected organization.

## Security consideration

- **Disposable and generic email domains are blocked** and cannot be added to the allow-list (e.g., `gmail.com`, `outlook.com`). We maintain a blocklist to enforce this.

## Enabling allowed email domains

Allowed email domains can be configured for an organization through the Scalekit Dashboard or programmatically using the API.

### Enable via Dashboard


![](@/assets/docs/allowed-email-domains/ui.png)

<Steps>

1. Log in to your [Scalekit Dashboard](https://app.scalekit.com).
2. Navigate to **Organizations** and **select an organization**.
3. Open the **Roles** tab and find **Allowed Email Domains**.
4. Add or edit allowed email domains for automatic suggestions/provisioning.

</Steps>

### Enable via API

You can also configure allowed email domains for an organization programmatically using the Scalekit API:

<InstallSDK />

<Tabs>

<TabItem value="create" label="Register email domain">

```sh title="Register an allowed email domain" wrap
curl 'https://$SCALEKIT_ENVIRONMENT_URL/api/v1/organizations/{organization_id}/domains' \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "domain": "customerdomain.com",
  "domain_type": "ALLOWED_EMAIL_DOMAIN"
}'
```

**Path Parameters:**
  - `organization_id` (string, required): The ID of the organization

**Request Body:**
  - `domain` (string, required): The email domain to allow (e.g., "customerdomain.com")
  - `domain_type` (string, required): Must be "ALLOWED_EMAIL_DOMAIN"

```json title="Response"
{
  "domain": {
    "connection_id": "string",
    "create_time": "2025-09-01T11:30:19.426Z",
    "created_by": "string",
    "domain": "string",
    "domain_type": "ALLOWED_EMAIL_DOMAIN",
    "environment_id": "string",
    "id": "string",
    "organization_id": "string",
    "update_time": "2025-09-01T11:30:19.426Z",
  }
}
```

</TabItem>

<TabItem value="list" label="List email domains">

**Request Parameters:**

- **Path Parameters:**
  - `organization_id` (string, required): The ID of the organization
  - `id` (string, required): The ID of the domain to delete

```sh title="List all the registered allowed email domains" wrap
curl 'https://$SCALEKIT_ENVIRONMENT_URL/api/v1/organizations/{organization_id}/domains
```

```json title="Response"
{
  "domains": [
    {
      "connection_id": "connection_id",
      "create_time": "2025-09-01T11:59:50.005Z",
      "created_by": "string",
      "domain": "customerdomain.com",
      "domain_type": "ALLOWED_EMAIL_DOMAIN",
      "environment_id": "environment_id",
      "id": "domain_id",
      "organization_id": "org_987654321",
      "update_time": "2025-09-01T11:59:50.005Z",
      "verification_status": "AUTO_VERIFIED"
    }
  ],
  "page_number": 1,
  "page_size": 1
}
```

</TabItem>



<TabItem value="delete" label="Delete email domain">

```sh title="Delete a allowed email domain" wrap
curl 'https://$SCALEKIT_ENVIRONMENT_URL/api/v1/organizations/{organization_id}/domains/{id}' \
  --request DELETE
```

**Request Parameters:**

- **Path Parameters:**
  - `organization_id` (string, required): The ID of the organization
  - `id` (string, required): The ID of the domain to delete


</TabItem>

</Tabs>
