---
title: Manage user profiles
description: "How users join, switch, and leave organizations (a.k.a workspaces)"
sidebar:
  label: 'Manage user profiles'
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      .sl-markdown-content h3 {
        font-size: var(--sl-text-lg);
      }
prev:
  label: 'Manage user sessions'
  link: '/fsa/guides/manage-session/'
next:
  label: 'Manage user roles and permissions'
  link: '/fsa/guides/app-roles/'
---

import { Tabs, TabItem, Aside, Badge, Steps, LinkCard } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx';
import CheckItem from '@/components/ui/CheckItem.astro';
import IconMaterialSymbolsArticlePersonRounded from '~icons/material-symbols/article-person-rounded';
import IconLucideFileJson from '~icons/lucide/file-json';



Scalekit automatically creates a user profile and organization when someone signs up for your app. Users can belong to multiple organizations (also called workspaces) with different roles and permissions in each one. Each user needs appropriate access controls based on their organization and role.

<details open>
<summary><IconMaterialSymbolsArticlePersonRounded style="display: inline; width: 1rem; height: 1rem; vertical-align: middle; margin-right: 0.5rem;" /> Show me the User data model</summary>

```d2
direction: right;

User: {
  shape: sql_table
  id: string {constraint: PK}
  email: string
  external_id: string
  create_time: timestamp
  update_time: timestamp
  metadata: object
}

UserProfile: {
  shape: sql_table
  id: string {constraint: PK}
  user_id: string {constraint: FK}
  first_name: string
  last_name: string
  name: string
  email_verified: boolean
  locale: string
  phone_number: string
  custom_attributes: object
  metadata: object
}

Membership: {
  shape: sql_table
  id: string {constraint: PK}
  user_id: string {constraint: FK}
  organization_id: string
  display_name: string
  membership_status: enum
  join_time: timestamp
  created_at: timestamp
  accepted_at: timestamp
  expires_at: timestamp
  inviter_email: string
  metadata: object
}

Role: {
  shape: sql_table
  id: string {constraint: PK}
  membership_id: string {constraint: FK}
  name: string
  display_name: string
}

# Relationships
User.id -> UserProfile.user_id: {
  label: "1:1"
  tooltip: "Each user has one profile containing personal details"
}

User.id -> Membership.user_id: {
  label: "1:N"
  tooltip: "Users can belong to multiple organizations simultaneously"
}

Membership.id -> Role.membership_id: {
  label: "1:N"
  tooltip: "Users can have different roles in each organization"
}
```

</details>



<details>
<summary><IconLucideFileJson style="display: inline; width: 1rem; height: 1rem; vertical-align: middle; margin-right: 0.5rem;" /> Show me the User Object</summary>

```json
{
  "user": {
    "create_time": "2025-10-13T17:06:39.862Z",
    "email": "user@example.com",
    "external_id": "ext_12345a67b89c",
    "id": "usr_1234abcd5678efgh",
    "memberships": [
      {
        "accepted_at": "2025-10-13T17:06:39.862Z",
        "created_at": "2025-10-13T17:06:39.862Z",
        "display_name": "AcmeCorp",
        "expires_at": "2025-10-13T17:06:39.862Z",
        "inviter_email": "string",
        "join_time": "2025-10-13T17:06:39.862Z",
        "membership_status": "ACTIVE",
        "metadata": {
          "department": "engineering",
          "location": "nyc-office"
        },
        "name": "AcmeCorp",
        "organization_id": "org_1234abcd5678efgh",
        "roles": [
          {
            "display_name": "Dev Team",
            "id": "role_79643236410327240",
            "name": "team_dev"
          }
        ]
      }
    ],
    "metadata": {
      "department": "engineering",
      "location": "nyc-office"
    },
    "update_time": "2025-10-13T17:06:39.862Z",
    "user_profile": {
      "custom_attributes": {
        "department": "engineering",
        "security_clearance": "level2"
      },
      "email_verified": true,
      "first_name": "John",
      "id": "usr_profile_1234abcd5678efgh",
      "last_name": "Doe",
      "locale": "en-US",
      "metadata": {
        "account_status": "active",
        "signup_source": "mobile_app"
      },
      "name": "John Michael Doe",
      "phone_number": "+14155552671"
    }
  }
}s
```

</details>

## Manage users and memberships in the Scalekit dashboard

Manage users through the Scalekit dashboard at **Dashboard** > **Users**. The dashboard provides these user management capabilities:

- Create users directly
- Invite users to join an organization
- Assign roles
- Suspend or deactivate users
- Update user information and role assignments
- View active and inactive users

To add custom fields to user profiles, navigate to **Dashboard** > **User Attributes**. Create new fields to store additional user information. Access these fields programmatically in your application. Map them to identity provider attributes to automatically populate user profiles in Scalekit.


## Manage users and memberships <Badge type="tip" text="API" />

While the dashboard is useful for manual operations, most B2B applications need to manage users programmatically to integrate with existing systems and automate workflows. The examples below demonstrate common user management operations.

<LinkCard title="User API reference" href="https://docs.scalekit.com/apis/#tag/users" />

<Tabs>
<TabItem value="node" label="Node.js">

```js {"1"} title="List, create, invite, update, and delete users programmatically" frame="terminal"
// 1. Install the Scalekit SDK

// 2. Create an organization
// Use case: When a new company signs up for your B2B application
const {
  organization: {
    id: organizationId
  }
} = await scalekit.organization.createOrganization("Megasoft");

// 3. Create a user and send invitation email
// Use case: HR system integration, bulk user imports, or admin-initiated account creation
const { user } = await scalekit.user.createUserAndMembership("<organizationId>", {
	email: "user@example.com",
	userProfile: {
		firstName: "John",
		lastName: "Doe",
	},
  sendInvitationEmail: true
});

// 4. List users in an organization
// Use case: Display user directory, security audits, billing calculations, or compliance reporting
const { users } = await scalekit.user.listOrganizationUsers("<organizationId>");

// 5. Update user profile
// Use case: Sync changes from external systems, or when users update their profile information
await scalekit.user.updateUser("<users[0].id>", {
	userProfile: {
		firstName: "John",
		lastName: "Smith", // Updated last name
	},
});

// 6. Delete user permanently
// Use case: User account closure, GDPR deletion requests, or cleaning up test accounts
await scalekit.user.deleteUser("<users[0].id>");
```
</TabItem>
<TabItem value="python" label="Python">

```python title="List, create, invite, update, and delete users programmatically" frame="terminal"
# 1. Install the Scalekit SDK

# 2. Create an organization
# Use case: When a new company signs up for your B2B application
organization = scalekit.organization.create_organization("Megasoft")
organization_id = organization.id

# 3. Create a user and send invitation email
# Use case: HR system integration, bulk user imports, or admin-initiated account creation
user_response = scalekit.user.create_user_and_membership(
    "<organization_id>",
    email="user@example.com",
    user_profile={
        "first_name": "John",
        "last_name": "Doe"
    },
    send_invitation_email=True
)

# 4. List users in an organization
# Use case: Display user directory, security audits, billing calculations, or compliance reporting
users_response = scalekit.user.list_organization_users("<organization_id>")

# 5. Update user profile
# Use case: Sync changes from external systems, or when users update their profile information
scalekit.user.update_user(
    "<users_response.users[0].id>",
    user_profile={
        "first_name": "John",
        "last_name": "Smith"  # Updated last name
    }
)

# 6. Delete user permanently
# Use case: User account closure, GDPR deletion requests, or cleaning up test accounts
scalekit.user.delete_user("<users_response.users[0].id>")
```

</TabItem>
<TabItem value="go" label="Go">

```go title="List, create, invite, update, and delete users programmatically" frame="terminal"
// 1. Install the Scalekit SDK

// 2. Create an organization
// Use case: When a new company signs up for your B2B application
organization, err := scalekitClient.Organization.CreateOrganization(
    ctx,
    "Megasoft",
    scalekit.CreateOrganizationOptions{},
)

// 3. Create a user and send invitation email
// Use case: HR system integration, bulk user imports, or admin-initiated account creation
newUser := &usersv1.CreateUser{
    Email: "user@example.com",
    UserProfile: &usersv1.CreateUserProfile{
        FirstName: "John",
        LastName:  "Doe",
    },
}
userResp, err := scalekitClient.User().CreateUserAndMembership(
    ctx,
    "<organization.Id>",
    newUser,
    true, // sendInvitationEmail
)

// 4. List users in an organization
// Use case: Display user directory, security audits, billing calculations, or compliance reporting
users, err := scalekitClient.User().ListOrganizationUsers(
    ctx,
    "<organization.Id>",
    &scalekit.ListUsersOptions{},
)

// 5. Update user profile
// Use case: Sync changes from external systems, or when users update their profile information
updateUser := &usersv1.UpdateUser{
    UserProfile: &usersv1.UpdateUserProfile{
        FirstName: "John",
        LastName:  "Smith", // Updated last name
    },
}
scalekitClient.User().UpdateUser(ctx, "<users.Users[0].Id>", updateUser)

// 6. Delete user permanently
// Use case: User account closure, GDPR deletion requests, or cleaning up test accounts
err = scalekitClient.User().DeleteUser(ctx, "<users.Users[0].Id>")
```

</TabItem>
<TabItem value="java" label="Java">

```java title="List, create, invite, update, and delete users programmatically" frame="terminal"
// 1. Install the Scalekit SDK

// 2. Create an organization
// Use case: When a new company signs up for your B2B application
CreateOrganization createOrganization = CreateOrganization.newBuilder()
    .setDisplayName("Megasoft")
    .build();

Organization organization = scalekitClient.organizations().create(createOrganization);

// 3. Create a user and send invitation email
// Use case: HR system integration, bulk user imports, or admin-initiated account creation
CreateUser createUser = CreateUser.newBuilder()
    .setEmail("user@example.com")
    .setUserProfile(
        CreateUserProfile.newBuilder()
            .setFirstName("John")
            .setLastName("Doe")
            .build())
    .build();

CreateUserAndMembershipRequest createUserReq = CreateUserAndMembershipRequest.newBuilder()
    .setUser(createUser)
    .setSendInvitationEmail(true)
    .build();

CreateUserAndMembershipResponse userResp = scalekitClient.users()
    .createUserAndMembership("<organization.getId()>", createUserReq);

// 4. List users in an organization
// Use case: Display user directory, security audits, billing calculations, or compliance reporting
ListOrganizationUsersRequest listReq = ListOrganizationUsersRequest.newBuilder()
    .build();

ListOrganizationUsersResponse users = scalekitClient.users()
    .listOrganizationUsers("<organization.getId()>", listReq);

// 5. Update user profile
// Use case: Sync changes from external systems, or when users update their profile information
UpdateUser updateUser = UpdateUser.newBuilder()
    .setUserProfile(
        UpdateUserProfile.newBuilder()
            .setFirstName("John")
            .setLastName("Smith") // Updated last name
            .build())
    .build();

UpdateUserRequest updateReq = UpdateUserRequest.newBuilder()
    .setUser(updateUser)
    .build();

scalekitClient.users().updateUser("<users.getUsers(0).getId()>", updateReq);

// 6. Delete user permanently
// Use case: User account closure, GDPR deletion requests, or cleaning up test accounts
scalekitClient.users().deleteUser("<users.getUsers(0).getId()>");
```

</TabItem>
</Tabs>

<Aside type="tip" title='Mark inactive status over permanent user deletion'>
  Instead of permanently deleting users, consider updating their status to inactive. This preserves audit trails, maintains data integrity, and allows you to reactivate accounts if needed. Permanent deletion should only be used for GDPR compliance or similar legal requirements.
</Aside>

A membership defines the relationship between a user and an organization. Each membership specifies the user's role and associated permissions within that organization. Users can have different roles across multiple organizations.

<Tabs>
<TabItem value="node" label="Node.js">

```js title="Manage organization memberships" frame="terminal"
// 1. Create membership for existing user (when user ID is known)
// Use case: Provide an option to admin to add a consultant or contractor to a new client's organization
const membership = await scalekit.user.createMembership("<organizationId>", "<userId>");

// 2. Create membership for existing user (when user ID is not known)
// Use case: Provide an option to admin to invite a user by email to join an existing organization
const { user } = await scalekit.user.createUserAndMembership("<organizationId>", {
	email: "user@example.com",
	userProfile: {
		firstName: "John",
		lastName: "Doe",
	},
	sendInvitationEmail: true
});

// 3. Update user's membership roles
// Use case: Provide an option to admin to promote a user from viewer to editor role, or updating workspace assignments
await scalekit.user.updateMembership(
	"<organizationId>",
	"<userId>",
	{
		roles: ["editor"],
	}
);

// 4. Remove user from organization
// Use case: Provide an option to admin to remove a user from an organization
await scalekit.user.deleteMembership("<organizationId>", "<userId>");
```

</TabItem>
<TabItem value="python" label="Python">

```python title="Manage organization memberships" frame="terminal"
# 1. Create membership for existing user (when user ID is known)
# Use case: Provide an option to admin to add a consultant or contractor to a new client's organization
membership = scalekit.user.create_membership("<organization_id>", "<user_id>")

# 2. Create membership for existing user (when user ID is not known)
# Use case: Provide an option to admin to invite a user by email to join an existing organization
user_response = scalekit.user.create_user_and_membership(
    "<organization_id>",
    email="user@example.com",
    user_profile={
        "first_name": "John",
        "last_name": "Doe"
    },
    send_invitation_email=True
)

# 3. Update user's membership roles and metadata
# Use case: Provide an option to admin to promote a user from viewer to editor role, or updating workspace assignments
scalekit.user.update_membership(
    "<organization_id>",
    "<user_id>",
    roles=["editor"],
    metadata={
        "team": "Platform",
        "access_level": "elevated"
    }
)

# 4. Remove user from organization
# Use case: Provide an option to admin to remove a user from an organization
scalekit.user.delete_membership("<organization_id>", "<user_id>")
```

</TabItem>
<TabItem value="go" label="Go">

```go title="Manage organization memberships" frame="terminal"
// 1. Create membership for existing user (when user ID is known)
// Use case: Provide an option to admin to add a consultant or contractor to a new client's organization
membership, err := scalekitClient.User().CreateMembership(
    ctx,
    "<organizationId>",
    "<userId>",
    &usersv1.CreateMembership{},
)

// 2. Create membership for existing user (when user ID is not known)
// Use case: Provide an option to admin to invite a user by email to join an existing organization
newUser := &usersv1.CreateUser{
    Email: "user@example.com",
    UserProfile: &usersv1.CreateUserProfile{
        FirstName: "John",
        LastName:  "Doe",
    },
}
userResp, err := scalekitClient.User().CreateUserAndMembership(
    ctx,
    "<organizationId>",
    newUser,
    true, // sendInvitationEmail
)

// 3. Update user's membership roles and metadata
// Use case: Provide an option to admin to promote a user from viewer to editor role, or updating workspace assignments
updateMembership := &usersv1.UpdateMembership{
    Roles: []*commonsv1.Role{
        {Name: "editor"},
    },
    Metadata: map[string]string{
        "team":         "Platform",
        "access_level": "elevated",
    },
}
scalekitClient.User().UpdateMembership(
    ctx,
    "<organizationId>",
    "<userId>",
    updateMembership,
)

// 4. Remove user from organization
// Use case: Provide an option to admin to remove a user from an organization
err = scalekitClient.User().DeleteMembership(ctx, "<organizationId>", "<userId>")
```

</TabItem>
<TabItem value="java" label="Java">

```java title="Manage organization memberships" frame="terminal"
// 1. Create membership for existing user (when user ID is known)
// Use case: Provide an option to admin to add a consultant or contractor to a new client's organization
CreateMembership createMembership = CreateMembership.newBuilder().build();

CreateMembershipResponse membership = scalekitClient.users()
    .createMembership("<organizationId>", "<userId>", createMembership);

// 2. Create membership for existing user (when user ID is not known)
// Use case: Provide an option to admin to invite a user by email to join an existing organization
CreateUser createUser = CreateUser.newBuilder()
    .setEmail("user@example.com")
    .setUserProfile(
        CreateUserProfile.newBuilder()
            .setFirstName("John")
            .setLastName("Doe")
            .build())
    .build();

CreateUserAndMembershipRequest createUserReq = CreateUserAndMembershipRequest.newBuilder()
    .setUser(createUser)
    .setSendInvitationEmail(true)
    .build();

CreateUserAndMembershipResponse userResp = scalekitClient.users()
    .createUserAndMembership("<organizationId>", createUserReq);

// 3. Update user's membership roles and metadata
// Use case: Provide an option to admin to promote a user from viewer to editor role, or updating workspace assignments
UpdateMembership updateMembership = UpdateMembership.newBuilder()
    .addRoles(Role.newBuilder().setName("editor").build())
    .putMetadata("team", "Platform")
    .putMetadata("access_level", "elevated")
    .build();

UpdateMembershipRequest updateReq = UpdateMembershipRequest.newBuilder()
    .setMembership(updateMembership)
    .build();

scalekitClient.users().updateMembership("<organizationId>", "<userId>", updateReq);

// 4. Remove user from organization
// Use case: Provide an option to admin to remove a user from an organization
scalekitClient.users().deleteMembership("<organizationId>", "<userId>");
```

</TabItem>

</Tabs>

## Store custom data with metadata and external IDs

Store additional information about users to integrate with your existing systems and business logic. Use metadata to track application-specific user attributes, and external IDs to maintain references to users in your other systems.

<Tabs>
<TabItem value="node" label="Node.js">

```javascript title="Store metadata and external IDs" wrap frame="terminal" ins={3-11}
// Use case: Link user with external systems (CRM, HR) and track custom attributes in a single call
const updatedUser = await scalekit.user.updateUser("<userId>", {
  externalId: "SALESFORCE-003921",
  metadata: {
    department: "Sales",
    employeeId: "EMP-002",
    territory: "West Coast",
    quota: 150000,
    crmAccountId: "ACC-789",
    hubspotContactId: "12345",
  },
});
```

</TabItem>
<TabItem value="python" label="Python">

```python title="Store metadata and external IDs" wrap frame="terminal" ins={3-11}
# Use case: Link user with external systems (CRM, HR) and track custom attributes in a single call
updated_user = scalekit.user.update_user(
    "<user_id>",
    external_id="SALESFORCE-003921",
    metadata={
        "department": "Sales",
        "employee_id": "EMP-002",
        "territory": "West Coast",
        "quota": 150000,
        "crm_account_id": "ACC-789",
        "hubspot_contact_id": "12345"
    }
)
```

</TabItem>
<TabItem value="go" label="Go">

```go title="Store metadata and external IDs" frame="terminal"
// Use case: Link user with external systems (CRM, HR) and track custom attributes in a single call
updateUser := &usersv1.UpdateUser{
    ExternalId: "SALESFORCE-003921",
    Metadata: map[string]string{
        "department":          "Sales",
        "employee_id":         "EMP-002",
        "territory":           "West Coast",
        "quota":               "150000",
        "crm_account_id":      "ACC-789",
        "hubspot_contact_id":  "12345",
    },
}
updatedUser, err := scalekitClient.User().UpdateUser(
    ctx,
    "<userId>",
    updateUser,
)
```

</TabItem>
<TabItem value="java" label="Java">

```java title="Store metadata and external IDs" frame="terminal" "setExternalId" "putMetadata"
// Use case: Link user with external systems (CRM, HR) and track custom attributes in a single call
UpdateUser updateUser = UpdateUser.newBuilder()
    .setExternalId("SALESFORCE-003921")
    .putMetadata("department", "Sales")
    .putMetadata("employee_id", "EMP-002")
    .putMetadata("territory", "West Coast")
    .putMetadata("quota", "150000")
    .putMetadata("crm_account_id", "ACC-789")
    .putMetadata("hubspot_contact_id", "12345")
    .build();

UpdateUserRequest updateReq = UpdateUserRequest.newBuilder()
    .setUser(updateUser)
    .build();

User updatedUser = scalekitClient.users().updateUser("<userId>", updateReq);
```

</TabItem>

</Tabs>

This integration approach maintains consistent user identity across your system architecture while letting you choose the source of truth for authentication and authorization.
