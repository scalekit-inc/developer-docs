---
title: "Invite users to organizations"
description: "Invite from UI or API. Scalekit sends, verifies, and creates accounts so users join workspaces"
sidebar:
  label: "Building user invitations"
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      .sl-markdown-content h3 {
        font-size: var(--sl-text-lg);
      }
      table td:not(:last-child), table th:not(:last-child) {
        white-space: nowrap;
      }
prev: false
next:
  label: Proceed to managing user profiles
  link: /fsa/guides/manage-users/

---
import { Card, CardGrid, Steps, TabItem, Tabs, Aside, LinkCard, LinkButton, Badge } from '@astrojs/starlight/components';
import { InstallSDKSection, EnvSection, RedirectAuthPageSection, RetrieveUserDetailsSection, UserProfileSection, CreateUserMembershipSection, CreateOrganizationSection } from '@components/templates';

Build applications that enable organization owners to invite users to join their organization. Scalekit takes care of sending the invite emails, verifying their email addresses, and creating the user accounts end to end.


For applications where you want to build custom invitation flows in your own UI, Scalekit provides APIs to programmatically invite users. This is ideal when organization admins or workspace owners need to invite team members directly from your application's dashboard.
<details>
<summary>Common use cases</summary>

- **Admin dashboards**: Organization admins can invite users from a settings or team management page.
- **Bulk invitations**: Import and invite multiple users at once from CSV files or directory systems.
- **Custom workflows**: Implement approval processes or conditional invitations based on business logic.
- **Integration with existing systems**: Connect invitation flows with your CRM, HR systems, or user directories.
</details>

## Invite users from the Scalekit dashboard


The quickest way to get started with user invitations is through the Scalekit Dashboard.

Navigate to the Users section and click the "Add User" button to invite new members to your organization. You can specify their email address, assign roles, and customize the invitation settings directly from the UI.


## Build user invitation flows <Badge type="tip" text="API" />

For applications that require custom invitation flows or automated user management, Scalekit provides a comprehensive SDK. This allows you to programmatically invite users, manage invitations, and integrate with your existing systems.

<details>

<summary>Review the user invitation flow</summary>

```d2 pad=10
shape: sequence_diagram

User -> App: Clicks invitation link
App -> Scalekit: Redirects to initiate login endpoint
App -> Scalekit: Creates auth URL, redirects to Scalekitâ€™s login page
User -> Scalekit: Completes authentication
Scalekit -> App: Redirects to callback URL with auth code
App -> Scalekit: Exchanges code for ID Token & user details
App -> Dashboard: Redirects user
App -> App: Decode ID Token for user details
```
</details>

<Steps>
 1. ### Create user invitations

    To invite a user to an organization, create a user membership with their email address and the target organization ID.

    Scalekit handles sending the invitation email and managing the invitation process.

    <Tabs syncKey="tech-stack">
      <TabItem value="node" label="Node.js">
        ```javascript { 13 }
        const newUser = await scalekit.user.createUserAndMembership('org_xxxxxxxxxxxx',
        {
          email: "user@example.com",
          externalId: "crm-user-87425",
          userProfile: {
            firstName: "John",
            lastName: "Doe"
          },
          metadata: {
            plan: "free",
            department: "Engineering"
          },
          sendInvitationEmail: true
        });
        ```
      </TabItem>
      <TabItem value="python" label="Python">
        ```python
        # Create user object
        user = CreateUser(
            email="user@example.com",
            external_id="crm-user-87425",
            user_profile=CreateUserProfile(
                first_name="John",
                last_name="Doe"
            ),
            metadata={
                "plan": "free",
                "department": "Engineering"
            }
            send_invitation_email=True
        )

        # Create the user
        new_user = scalekit.users.create_user_and_membership(organization_id='org_xxxxxxxxxxxx', user=user)
        ```
      </TabItem>
      <TabItem value="go" label="Go">
        ```go {23} collapse={1-5}
        import (
            "context"
            usersv1 "github.com/scalekit-inc/scalekit-sdk-go/pkg/grpc/scalekit/v1/users"
        )

        user := &usersv1.CreateUser{
            Email: "user@example.com",
            ExternalId: "crm-user-87425",
            UserProfile: &usersv1.CreateUserProfile{
                FirstName: "John",
                LastName:  "Doe",
            },
            Metadata: map[string]string{
                "plan": "free",
                "department":       "Engineering",
            },
        }

        newUser, err := scalekit.User().CreateUserAndMembership(
            context.Background(),
            "org_xxxxxxxxxxxx", // The ID of the organization the user belongs to
            user,
            true, // sendInvitationEmail
        )
        if err != nil {
            // handle error appropriately
            return err
        }
        ```
      </TabItem>
      <TabItem value="java" label="Java">
        ```java
        // Build the user profile object
        CreateUserProfile profile = CreateUserProfile.newBuilder()
            .setFirstName("John")
            .setLastName("Doe")
            .build();

        // Build the user object
        CreateUser createUser = CreateUser.newBuilder()
            .setEmail("user@example.com")
            .setExternalId("ext_12345a67b89c")
            .putMetadata("department", "engineering")
            .putMetadata("location", "nyc-office")
            .setUserProfile(profile)
            .build();

        // Create request for user and membership, sending an invitation email
        CreateUserAndMembershipRequest cuReq = CreateUserAndMembershipRequest.newBuilder()
            .setUser(createUser)
            .setSendInvitationEmail(true)
            .build();

        // Send the request
        CreateUserAndMembershipResponse cuResp = users.createUserAndMembership("org_123", cuReq);

        // Print the new user's ID
        System.out.println(cuResp.getUser().getId());
        ```
      </TabItem>
    </Tabs>

    | Parameter | Description | Required |
    | --- | --- | --- |
    | `email` | The email address of the user to invite | Yes |
    | `organization_id` | The ID of the organization they're joining | Yes |
    | `sendActivationEmail` | Set to `true` to automatically send invitation emails | Recommended |
    | `roles` | Array of roles to assign to the invited user | No |
    | `metadata` | Custom data to associate with the membership | No |

 2. ### View invitation response

    When a user is successfully invited, Scalekit returns a user object with membership details. The membership status will be `PENDING_INVITE` until the user accepts the invitation.

    Monitor the `membershipStatus` field to track invitation progress:
      - `PENDING_INVITE`: User has been invited but hasn't accepted yet
      - `ACTIVE`: User has accepted the invitation and can access the organization
      - `INVITE_EXPIRED`: Membership has been deactivated

    ```json title="Example invitation response" "PENDING_INVITE" {13} collapse={15-18, 22-23, 31-36}
    {
      "user": {
        "id": "usr_01HTR0ABCXYZ",
        "environmentId": "env_01HTQZ99MMNZ",
        "createTime": "2025-06-19T15:41:22Z",
        "updateTime": "2025-06-19T15:41:22Z",
        "email": "user@example.com",
        "externalId": "crm-user-87425",
        "memberships": [
          {
            "organizationId": "org_xxxxxxxxxxxx",
            "joinTime": "2025-06-19T15:41:22Z",
            "membershipStatus": "PENDING_INVITE",
            "roles": [
              {
                "id": "role_admin",
                "name": "admin"
              }
            ],
            "primaryIdentityProvider": "IDENTITY_PROVIDER_UNSPECIFIED",
            "metadata": {
              "plan": "free",
              "department": "Engineering"
            }
          }
        ],
        "userProfile": {
          "id": "prof_01HTR0PQRMNO",
          "firstName": "John",
          "lastName": "Doe",
          "name": "John Doe",
          "locale": "en",
          "emailVerified": false,
          "phoneNumber": "",
          "metadata": {},
          "customAttributes": {}
        },
        "metadata": {
          "plan": "free",
          "department": "Engineering"
        },
        "lastLogin": null
      }
    }
    ```

 3. ### Resend user invitation

    Resend invitation emails to users who have pending or expired invitations. If the invitation has expired, a new one is automatically created and sent. If still valid, a reminder email is sent instead.

    **When to resend invitations:**
    - Users haven't responded to their initial invitation
    - Original invitations have expired
    - Users request a new invitation link
    - Users can't find the original email

    The invitation email includes a secure magic link that allows the user to complete their account setup and join the organization. Each resend operation increments the resend counter. The expiration time stamp is updated if a resend is requested upon the expiry, if not previous expiry timestamp remains.

    <Tabs syncKey="tech-stack">
      <TabItem value="curl" label="cURL">
        ```bash title="Resend invitation"
        curl 'https://$SCALEKIT_ENVIRONMENT_URL/api/v1/invites/organizations/{organization_id}/users/{id}/resend' \
          --request PATCH \
          --header 'Content-Type: application/json' \
          --data 'null'
        ```
      </TabItem>
      <TabItem value="node" label="Node.js">
        ```javascript title="Express.js"
        // Example Node.js implementation coming soon
        ```
      </TabItem>
      <TabItem value="python" label="Python">
        ```python title="Flask"
        # Example Python implementation coming soon
        ```
      </TabItem>
    </Tabs>

    **Parameters:**

    | Parameter | Description |
    | --------- | ----------- |
    | `organization_id` | Unique identifier of the organization (starts with 'org_') |
    | `id` | System-generated user ID of the user with a pending invitation (starts with 'usr_') |

    **Response:**
    ```json title="200"
    {
      "invite": {
        "created_at": "2025-07-10T08:00:00Z",
        "expires_at": "2025-12-31T23:59:59Z",
        "invited_by": "admin_998877",
        "organization_id": "org_987654321",
        "resent_at": "2025-07-15T09:30:00Z",
        "resent_count": 2,
        "status": "pending_invite",
        "user_id": "usr_123456"
      }
    }
    ```

    <Aside type="note" title="Response status codes">
      - **200**: Success - Invitation resent. New expiry timestamp is set only if previous invitation is expired.
      - **400**: Bad Request - Invalid parameters, user already active, or invitation accepted
      - **404**: Not Found - User, organization, or invitation not found. Verify all IDs are correct.
      - **500**: Internal Server Error - Email service unavailable or system error
    </Aside>

    <Aside type="tip" title="Tracking resends">
      Monitor the `resent_count` field to track how many times an invitation has been resent. Consider implementing rate limiting to prevent excessive resends.
    </Aside>

 4. ### Handle invitation acceptance

    ![](@/assets/docs/fsa/user-management/2-email-invite.png)

    When invited users click the invitation link in their email, Scalekit redirects them to your application's [registered initiate login endpoint](/guides/dashboard/redirects/#redirect-endpoint-types).

    Your application completes the authentication flow using your [existing implementation](/fsa/quickstart).

    Set up the initiate login endpoint

    <Tabs syncKey="tech-stack">
      <TabItem value="node" label="Node.js">
        ```javascript title="Express.js" frame="terminal"
        // 1. Register your endpoint in the Scalekit dashboard (for example, https://your-app.com/auth/login/initiate)
        // 2. Handle the redirect by constructing an authorization URL and redirecting the user to Scalekit's hosted login page
        // 3. Complete authentication when the user returns to your callback URL
        app.get('/auth/login/initiate', (req, res) => {
          const redirectUri = 'http://localhost:3000/api/callback';
          const options = {
            scopes: ['openid', 'profile', 'email', 'offline_access']
          };

          const authorizationUrl = scalekit.getAuthorizationUrl(redirectUri, options);
          res.redirect(authorizationUrl);
        });
        ```
      </TabItem>
      <TabItem value="python" label="Python">
        ```python title="Flask" frame="terminal"
        # 1. Register your endpoint in the Scalekit dashboard (for example, https://your-app.com/auth/login/initiate)
        # 2. Handle the redirect by constructing an authorization URL and redirecting the user to Scalekit's hosted login page
        # 3. Complete authentication when the user returns to your callback URL
        @app.route('/auth/login/initiate')
        def initiate_login():
            redirect_uri = 'http://localhost:3000/api/callback'
            options = AuthorizationUrlOptions()
            options.scopes = ['openid', 'profile', 'email', 'offline_access']

            authorization_url = scalekit.get_authorization_url(redirect_uri, options)
            return redirect(authorization_url)
        ```
      </TabItem>
      <TabItem value="go" label="Go">
        ```go title="Gin" frame="terminal"
        // 1. Register your endpoint in the Scalekit dashboard (for example, https://your-app.com/auth/login/initiate)
        // 2. Handle the redirect by constructing an authorization URL and redirecting the user to Scalekit's hosted login page
        // 3. Complete authentication when the user returns to your callback URL
        func initiateLogin(c *gin.Context) {
            redirectUri := "http://localhost:3000/api/callback"
            options := scalekit.AuthorizationUrlOptions{
                Scopes: []string{"openid", "profile", "email", "offline_access"}
            }

            authorizationUrl, err := scalekit.GetAuthorizationUrl(redirectUri, options)
            if err != nil {
                c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
                return
            }

            c.Redirect(http.StatusFound, authorizationUrl.String())
        }
        ```
      </TabItem>
      <TabItem value="java" label="Java">
        ```java title="Spring" frame="terminal"
        // 1. Register your endpoint in the Scalekit dashboard (for example, https://your-app.com/auth/login/initiate)
        // 2. Handle the redirect by constructing an authorization URL and redirecting the user to Scalekit's hosted login page
        // 3. Complete authentication when the user returns to your callback URL
        @GetMapping("/auth/login/initiate")
        public ResponseEntity<Void> initiateLogin() {
            String redirectUri = "http://localhost:3000/api/callback";
            AuthorizationUrlOptions options = new AuthorizationUrlOptions();
            options.setScopes(Arrays.asList("openid", "profile", "email", "offline_access"));

            URL authorizationUrl = scalekit.authentication().getAuthorizationUrl(redirectUri, options);

            return ResponseEntity.status(HttpStatus.FOUND)
                .header("Location", authorizationUrl.toString())
                .build();
        }
        ```
      </TabItem>
    </Tabs>
</Steps>
