---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import CardGrid from '@/components/ui/CardGrid.astro'
import SimpleList from '@/components/ui/SimpleList.astro'
import CheckItem from '@/components/ui/CheckItem.astro'
---

<StarlightPage
  frontmatter={{
    title: 'Examples',
    description:
      'A collection of walkthrough tutorials, examples, videos and guides to teach you about the Scalekit and how to use it with your favorite tools',
    template: 'doc',
    sidebar: {
      label: 'Examples',
    },
    prev: false,
    next: false,
    editUrl: false,
    lastUpdated: false,
    tableOfContents: false,
    head: [
      {
        tag: 'style',
        content: 'footer { display: none !important; }',
      },
    ],
  }}
  hasSidebar={false}
>
  <div class="mb-8">
    <label for="auth-filter" class="inline-flex cursor-pointer items-center gap-2">
      <input type="checkbox" id="auth-filter" value="" class="peer sr-only" />
      <div
        class="peer relative h-4 w-7 rounded-full transition-colors"
        style="background-color: var(--sl-color-gray-4);"
      >
        <div
          class="absolute start-[2px] top-[2px] h-3 w-3 rounded-full transition-all"
          style="background-color: var(--sl-color-white);"
        >
        </div>
      </div>
      <span class="text-sm" style="color: var(--sl-color-text);"
        >Show only items containing 'a', 'u', 't', 'h'</span
      >
    </label>
  </div>

  <style>
    #auth-filter:checked ~ div {
      background-color: var(--sl-color-accent) !important;
    }

    #auth-filter:checked ~ div > div {
      transform: translateX(100%);
    }

    #auth-filter:focus ~ div {
      outline: 2px solid var(--sl-color-accent);
      outline-offset: 2px;
    }
  </style>

  <CardGrid>
    <SimpleList>
      <CheckItem href="/authenticate/overview">Authenticate users with Scalekit</CheckItem>
      <CheckItem href="/fsa/quickstart">Full Stack Auth quickstart</CheckItem>
      <CheckItem href="/sso/quickstart">SSO integration</CheckItem>
      <CheckItem href="/directory/scim/quickstart">SCIM provisioning</CheckItem>
      <CheckItem href="/mcp/quickstart">MCP authentication</CheckItem>
    </SimpleList>

    <SimpleList>
      <CheckItem href="/guides/integrations">Integration guides</CheckItem>
      <CheckItem href="/dev-kit/code-samples">Code samples</CheckItem>
      <CheckItem href="/reference/webhooks">Webhook reference</CheckItem>
      <CheckItem href="/reference/apis">API reference</CheckItem>
      <CheckItem href="/support/contact-us">Contact support</CheckItem>
    </SimpleList>

    <SimpleList>
      <CheckItem href="/authenticate/installation">Installation guide</CheckItem>
      <CheckItem href="/authenticate/launch-checklist">Launch checklist</CheckItem>
      <CheckItem href="/guides/security/authentication-security">Security best practices</CheckItem>
      <CheckItem href="/guides/dashboard">Dashboard guides</CheckItem>
      <CheckItem href="/guides/auth-flow-interceptors">Auth flow interceptors</CheckItem>
    </SimpleList>
  </CardGrid>

  <script>
    const filterCheckbox = document.getElementById('auth-filter')
    const checkItems = document.querySelectorAll('check-item')

    function containsAuthLetters(text) {
      const lowerText = text.toLowerCase()
      return (
        lowerText.includes('a') &&
        lowerText.includes('u') &&
        lowerText.includes('t') &&
        lowerText.includes('h')
      )
    }

    function filterItems() {
      const isFiltered = filterCheckbox.checked

      checkItems.forEach((item) => {
        const text = item.textContent || ''
        const shouldShow = isFiltered ? containsAuthLetters(text) : true

        const listItem = item.closest('li')
        if (listItem) {
          listItem.style.display = shouldShow ? '' : 'none'
        }
      })
    }

    filterCheckbox.addEventListener('change', filterItems)
  </script>
</StarlightPage>
