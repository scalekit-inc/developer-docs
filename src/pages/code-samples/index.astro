---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import SandboxHomeWrapper from '../../components/code-samples/SandboxHomeWrapper.tsx'

const apiKey = import.meta.env.PUBLIC_SAMPLEAPP_API_KEY || ''
const orgid = import.meta.env.PUBLIC_SAMPLEAPP_ORGID || 'scalekit'

const template = 'splash' as const
const frontmatter = {
  title: 'Code Samples',
  description: 'Interactive code samples and sandboxes',
  template,
  tableOfContents: false,
  editUrl: false as const,
  head: [
    {
      tag: 'style' as const,
      content: `
        footer {
          display: none !important;
        }
        /* Hide right sidebar (TOC) */
        right-sidebar-panel {
          display: none !important;
        }
        /* Hide first content-panel (title) */
        main > .content-panel:first-of-type {
          display: none !important;
        }
        /* Remove all padding from second content-panel and children */
        main > .content-panel:last-of-type,
        main > .content-panel:last-of-type .sl-container,
        main > .content-panel:last-of-type .sl-markdown-content {
          padding: 0 !important;
          margin: 0 !important;
        }
        /* Remove content width constraints */
        :root {
          --sl-content-width: 100% !important;
          --sl-content-margin-inline: 0 !important;
        }
        /* Make sandbox fill the space */
        .sandbox-wrapper-container {
          height: calc(100vh - var(--sl-nav-height)) !important;
          width: 100% !important;
        }
        /* Expand main content area to fill available space */
        .main-pane {
          max-width: 100% !important;
          width: 100% !important;
        }
        .sl-container,
        .sl-markdown-content {
          max-width: 100% !important;
        }
      `,
    },
  ],
}
---

<StarlightPage frontmatter={frontmatter} hasSidebar={true}>
  <SandboxHomeWrapper client:load apiKey={apiKey} orgid={orgid} />
</StarlightPage>
