---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'
import SandboxWrapper from '../../../components/code-samples/SandboxWrapper.tsx'
// import '../../../styles/sandbox.css'

// This route needs to be server-rendered because sandboxId is dynamic
export const prerender = false

interface Props {
  sandboxId: string
}

const { sandboxId } = Astro.params

// Get API key and orgid from environment variables
const apiKey = import.meta.env.PUBLIC_SAMPLEAPP_API_KEY || ''
const orgid = import.meta.env.PUBLIC_SAMPLEAPP_ORGID || 'gatewayz'

const frontmatter = {
  title: `Code Sample: ${sandboxId}`,
  template: 'doc' as const,
  description: `Interactive code sample for ${sandboxId}`,
  tableOfContents: false,
  editUrl: false as const,
  prev: false,
  next: false,
}
---

<!-- <StarlightPage frontmatter={frontmatter}> -->
<div class="sandbox-page-container">
  <SandboxWrapper client:load apiKey={apiKey} orgid={orgid} sandboxId={sandboxId} />
</div>
<!-- </StarlightPage> -->
